System.register("chunks:///_virtual/index.ts",["cc"],(function(r){"use strict";var n,t,e,o;return{setters:[function(r){n=r.cclegacy,t=r.Node,e=r.UITransform,o=r.Layers}],execute:function(){n._RF.push({},"00491gKwipOtrP/vB9jrI5q","index",void 0);r("creatUINode",(function(r){void 0===r&&(r="");var n=new t(r);n.addComponent(e);return n.layer=1<<o.nameToLayer("UI_2D"),n})),r("randombyLength",(function(r){return Array.from({length:r}).reduce((function(r,n){return r+Math.floor(10*Math.random())}),"")})),r("RandomNumer",(function(r,n){return Math.floor(r+(n-r)*Math.random())}));var a=/\((\d+)\)/,u=r("getStrNumber",(function(r){return parseInt(r.match(a)[1]||"0")}));r("sortspriteFrame",(function(r){return r.sort((function(r,n){return u(r.name)-u(n.name)}))}));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurnLeftStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,i,a,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){i=t.DRIECTION_ENUM},function(t){a=t.IdleTurnStateMachie},function(t){c=t.State}],execute:function(){e._RF.push({},"007d6jPZUNDPI/OrXcQLd38","TurnLeftStateMachine",void 0);var r="texture/player/turnleft";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new c(e,r+"/top")),n.stateMachine.set(i.BOTTOM,new c(e,r+"/bottom")),n.stateMachine.set(i.LEFT,new c(e,r+"/left")),n.stateMachine.set(i.RIGHT,new c(e,r+"/right")),n}return n(e,t),e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesManager.ts",["cc","./index.ts","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./DataManager.ts","./SpikesMachine.ts"],(function(t){"use strict";var n,i,o,s,e,a,c,r,u,h,f,l,p,_,d,E,y,T;return{setters:[function(t){n=t.cclegacy,i=t._decorator,o=t.Component,s=t.Sprite,e=t.UITransform},function(t){a=t.randombyLength},function(t){c=t.inheritsLoose,r=t.defineProperty,u=t.assertThisInitialized,h=t.createClass,f=t.asyncToGenerator},function(t){l=t.EVENTMANAGER,p=t.ENTINY_STATE_ENUM,_=t.PARAMS_NAME_ENUM,d=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM},function(t){E=t.default},function(t){y=t.default},function(t){T=t.SpikesMachine}],execute:function(){var M;n._RF.push({},"032cbHCikpFDJS41nA9gA6f","SpikesManager",void 0);var S=i.ccclass,A=(i.property,t("TILE_HEIGHT",55)),m=t("TILE_WIDTH",55);t("ANIMATION_SPEED",1/8),t("SpikesManager",S("SpikesManager")(M=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,r(u(n),"id",a(12)),r(u(n),"x",void 0),r(u(n),"y",void 0),r(u(n),"fsm",void 0),r(u(n),"_count",0),r(u(n),"_totalcount",void 0),r(u(n),"type",void 0),r(u(n),"transfrom",void 0),n}c(n,t);var i=n.prototype;return i.init=function(){var t=f((function*(t){this.node.addComponent(s).sizeMode=s.SizeMode.CUSTOM,this.transfrom=this.getComponent(e),this.transfrom.setContentSize(4*m,4*A),this.x=t.x,this.y=t.y,this.fsm=this.addComponent(T),yield this.fsm.init();var n=t.type;this.count=t.count,this.totalcount=d[n],E.Instance.on(l.PLAYERMOVE_END,this.onloop,this)}));return function(n){return t.apply(this,arguments)}}(),i.update=function(){this.node.setPosition(this.x*m,-this.y*A)},i.onDestroy=function(){E.Instance.off(l.PLAYERMOVE_END,this.onloop)},i.onloop=function(){null!=this.fsm&&(this.count===this.totalcount?this.count=0:this.count++,this.attack())},i.attack=function(){if(null!==y.Instance.player){var t=y.Instance.player,n=t.x,i=t.y;this.x===n&&this.y===i&&this.totalcount===this.count&&E.Instance.emit(l.ATTACK_PLAYER,p.DEATH)}},i.ResetZero=function(){this.count=0},h(n,[{key:"count",get:function(){return this._count},set:function(t){null!==this&&(this._count=t,this.fsm.setParams(_.SPIKES_CUR_COUNT,t))}},{key:"totalcount",get:function(){return this._totalcount},set:function(t){null!==this&&(this._totalcount=t,this.fsm.setParams(_.SPIKES_TOTAL_COUNT,t))}}]),n}(o))||M);n._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EnityManger.ts","./StateMachine.ts","./SmokeIdleStateMachines.ts","./SmokeDeathStateMachines.ts"],(function(t){"use strict";var e,n,i,a,s,c,r,o,h,u,m,f,E;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Animation},function(t){a=t.inheritsLoose,s=t.asyncToGenerator},function(t){c=t.ENTINY_STATE_ENUM,r=t.PARAMS_NAME_ENUM},function(t){o=t.EnityManger},function(t){h=t.GetParamsTrigger,u=t.GetParamsNUmber,m=t.StateMachine},function(t){f=t.default},function(t){E=t.default}],execute:function(){var M;e._RF.push({},"0c5eb0GWWxI4q1JAa87Ikuz","SmokeMachine",void 0);var l=n.ccclass;t("SmokeMachine",l("SmokeMachine")(M=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.init=function(){var t=s((function*(){this.animationComponent=this.node.addComponent(i),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),n.initAnimationEvent=function(){var t=this;this.animationComponent.on(i.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["idle"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(o).state=c.DEATH)}))},n.initParams=function(){this.param.set(r.IDLE,h()),this.param.set(r.DEATH,h()),this.param.set(r.DRIECTION,u())},n.initStateMachine=function(){this.stateMachine.set(r.IDLE,new f(this)),this.stateMachine.set(r.DEATH,new E(this))},n.run=function(){switch(this.currentState){case this.stateMachine.get(r.DEATH):case this.stateMachine.get(r.IDLE):this.param.get(r.DEATH).value?this.currentState=this.stateMachine.get(r.DEATH):this.param.get(r.IDLE).value?this.currentState=this.stateMachine.get(r.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(r.IDLE)}},e}(m))||M);e._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./DataManager.ts","./EnemyManager.ts","./WoodenSkeletonSubMachine.ts"],(function(t){"use strict";var n,e,o,a,s,i,c,r,u,h;return{setters:[function(t){n=t.cclegacy,e=t._decorator},function(t){o=t.inheritsLoose,a=t.asyncToGenerator},function(t){s=t.EVENTMANAGER,i=t.ENTINY_STATE_ENUM},function(t){c=t.default},function(t){r=t.default},function(t){u=t.EnemyManager},function(t){h=t.WoodenSkeletonSubMachine}],execute:function(){var l;n._RF.push({},"0cba5GIPCRGkaa22tDT4XG0","WoodenSkeletonManager",void 0);var f=e.ccclass;e.property,t("WoodenSkeletonManager",f("WoodenSkeletonManager")(l=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.init=function(){var n=a((function*(n){this.fsm=this.addComponent(h),yield this.fsm.init(),t.prototype.init.call(this,n),c.Instance.on(s.PLAYERMOVE_END,this.onAttack,this)}));return function(t){return n.apply(this,arguments)}}(),e.update=function(){t.prototype.update.call(this)},e.onDestroy=function(){t.prototype.onDestroy.call(this),c.Instance.off(s.PLAYERMOVE_END,this.onAttack)},e.onAttack=function(){if(this.state!==i.DEATH){var t=r.Instance.player,n=t.x,e=t.y,o=t.state;(this.x===n&&Math.abs(this.y-e)<=1||this.y===e&&Math.abs(this.x-n)<=1)&&o!==i.AIRDEATH&&o!==i.DEATH?(c.Instance.emit(s.ATTACK_PLAYER,i.DEATH),console.log(this.x===n&&Math.abs(this.y-e)<=1),console.log(this.y===e&&Math.abs(this.x-n)<=1),console.log(o),this.state=i.ATTACK):this.state=i.IDLE}},n}(u))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleTurnStateMachie.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./SubStateMachine.ts"],(function(t){"use strict";var e,n,r,c,i,a;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.inheritsLoose},function(t){c=t.PARAMS_NAME_ENUM,i=t.DIRECTION_ORDER_ENUM},function(t){a=t.default}],execute:function(){var u;e._RF.push({},"0d78czaVUFBkpPfXyHtpwOx","IdleTurnStateMachie",void 0);var s=n.ccclass;n.property,t("IdleTurnStateMachie",s("IdleTurnStateMachie")(u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.run=function(){var t=this.fsm.getParams(c.DRIECTION);this.currentState=this.stateMachine.get(i[t])},e}(a))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/BlockfrontStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,c,i,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){c=t.DRIECTION_ENUM},function(t){i=t.IdleTurnStateMachie},function(t){a=t.State}],execute:function(){e._RF.push({},"0e63b60fGxDbbcvz2yU//dD","BlockfrontStateMachine",void 0);var s="texture/player/blockfront";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new a(e,s+"/top")),n.stateMachine.set(c.BOTTOM,new a(e,s+"/bottom")),n.stateMachine.set(c.LEFT,new a(e,s+"/left")),n.stateMachine.set(c.RIGHT,new a(e,s+"/right")),n}return n(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(o){"use strict";var i,e,t,n,u,r,a,s;return{setters:[function(o){i=o.cclegacy,e=o._decorator,t=o.AudioSource,n=o.assert,u=o.Component},function(o){r=o.inheritsLoose,a=o.defineProperty,s=o.assertThisInitialized}],execute:function(){var c;i._RF.push({},"15427zNcsJNt4hB0mDvbGzw","AudioManager",void 0);var d=e.ccclass;o("AudioManager",d("AudioManager")(c=function(o){function i(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i=o.call.apply(o,[this].concat(t))||this,a(s(i),"audioSource",void 0),a(s(i),"AudioResolve",void 0),i}r(i,o);var e=i.prototype;return e.init=function(){this.audioSource=this.addComponent(t)},e.playMusic=function(o,i){var e=this;return void 0===o&&(o=!1),void 0===i&&(i=null),this.audioSource.clip=i,n(this.audioSource,"AudioManager not inited!"),this.audioSource.loop=o,this.audioSource.playing||this.audioSource.play(),new Promise((function(o){e.AudioResolve=o}))},e.playSound=function(o,i){void 0===o&&(o=null),void 0===i&&(i=1);var e=this.audioSource;n(e,"AudioManager not inited!"),e.playOneShot(o,i)},e.stop=function(){this.audioSource.stop()},e.destory=function(){this.node.removeFromParent()},i}(u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/level14.ts",["cc","./index3.ts"],(function(t){"use strict";var e,L,O,s,c;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,O=t.DRIECTION_ENUM,s=t.ENTINY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"154bfzcfcZOsppgBDOOO5CX","level14",void 0);var y=[[{src:22,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:13,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:20,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:19,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_RIGHT},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_RIGHT},{src:9,type:L.WALL_ROW},{src:19,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:19,type:L.CLIFF_CENTER}],[{src:27,type:L.WALL_ROW},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_CENTER},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:19,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:19,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_CENTER}],[{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_RIGHT_TOP},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null}]],r={x:1,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.PLAYER},p=[{x:3,y:4,direction:O.TOP,state:s.IDLE,type:c.WOODENSKELETON},{x:8,y:3,direction:O.LEFT,state:s.IDLE,type:c.WOODENSKELETON}],R=[{x:3,y:2,type:c.SPIKES_TWO,count:0}],F=[{x:1,y:4,state:s.IDLE,type:c.BURST,direction:O.TOP},{x:5,y:2,state:s.IDLE,type:c.BURST,direction:O.TOP},{x:5,y:4,state:s.IDLE,type:c.BURST,direction:O.TOP},{x:7,y:3,state:s.IDLE,type:c.BURST,direction:O.TOP},{x:7,y:4,state:s.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:2,state:s.IDLE,type:c.BURST,direction:O.TOP}],_={x:10,y:1,direction:O.LEFT,state:s.IDLE,type:c.DOOR};t("default",{mapInfo:y,player:r,enemies:p,spikes:R,bursts:F,door:_});e._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesFourSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){"use strict";var t,n,s,i,u;return{setters:[function(e){t=e.cclegacy},function(e){n=e.inheritsLoose},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.State},function(e){u=e.default}],execute:function(){t._RF.push({},"18a936eE0ZEpoJLNCLwrJk6","SpikesFourSubMachine",void 0);var a="texture/spikes/spikesfour";e("default",function(e){function t(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,a+"/zero")),n.stateMachine.set(s.ONE,new i(t,a+"/one")),n.stateMachine.set(s.TWO,new i(t,a+"/two")),n.stateMachine.set(s.THREE,new i(t,a+"/three")),n.stateMachine.set(s.FOUR,new i(t,a+"/four")),n.stateMachine.set(s.FIVE,new i(t,a+"/five")),n}return n(t,e),t}(u));t._RF.pop()}}}));

System.register("chunks:///_virtual/TileManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,i,n,s,r,o,a,l;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Sprite,s=e.UITransform,r=e.Component},function(e){o=e.inheritsLoose,a=e.defineProperty,l=e.assertThisInitialized}],execute:function(){var c;t._RF.push({},"1d150B4tqBIt5/l0H/lqaKb","TileManager",void 0);var u=i.ccclass;e("TlieManager",u("TlieManager")(c=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,a(l(t),"type",void 0),a(l(t),"moveable",void 0),a(l(t),"turnable",void 0),t}return o(t,e),t.prototype.init=function(e,t,i,r){this.type=e,this.type.includes("WALL")?(this.moveable=!1,this.turnable=!1):this.type.includes("CLIFF")?(this.moveable=!1,this.turnable=!0):this.type.includes("FLOOR")&&(this.moveable=!0,this.turnable=!0),this.addComponent(n).spriteFrame=t,this.addComponent(s).setContentSize(55,55),this.node.setPosition(55*i,55*-r)},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/level10.ts",["cc","./index3.ts"],(function(L){"use strict";var t,e,O,s,c;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,O=L.DRIECTION_ENUM,s=L.ENTINY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"21c57VGNMBEjIOiAXggVtFQ","level10",void 0);var r=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:25,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:21,type:e.WALL_RIGHT_TOP},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],y={x:1,y:7,direction:O.TOP,state:s.IDLE,type:c.PLAYER},p=[{x:1,y:3,direction:O.BOTTOM,state:s.IDLE,type:c.WOODENSKELETON},{x:2,y:4,direction:O.BOTTOM,state:s.IDLE,type:c.IRONSKELETON},{x:5,y:5,direction:O.LEFT,state:s.IDLE,type:c.WOODENSKELETON}],R=[{x:4,y:3,type:c.SPIKES_THREE,count:0}],E=[{x:3,y:4,state:s.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:5,state:s.IDLE,type:c.BURST,direction:O.TOP}],F={x:6,y:1,direction:O.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:y,enemies:p,spikes:R,bursts:E,door:F});t._RF.pop()}}}));

System.register("chunks:///_virtual/AttackSubStateMachines.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,a,c,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){a=t.DRIECTION_ENUM},function(t){c=t.IdleTurnStateMachie},function(t){s=t.State}],execute:function(){e._RF.push({},"23217C+ISBJ1bAVGU4zPpm8","AttackSubStateMachines",void 0);var i="texture/woodenskeleton/attack";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new s(e,i+"/top")),n.stateMachine.set(a.BOTTOM,new s(e,i+"/bottom")),n.stateMachine.set(a.LEFT,new s(e,i+"/left")),n.stateMachine.set(a.RIGHT,new s(e,i+"/right")),n}return n(e,t),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/DoorIdleSubStateMachines.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,i,s,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){i=t.DRIECTION_ENUM},function(t){s=t.IdleTurnStateMachie},function(t){a=t.State}],execute:function(){e._RF.push({},"265b9ze/OdHBbo/+dxkHr1M","DoorIdleSubStateMachines",void 0);var c="texture/door/idle";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new a(e,c+"/top")),n.stateMachine.set(i.BOTTOM,new a(e,c+"/top")),n.stateMachine.set(i.LEFT,new a(e,c+"/left")),n.stateMachine.set(i.RIGHT,new a(e,c+"/left")),n}return n(e,t),e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeDeathStateMachines.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,a,s,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){a=t.DRIECTION_ENUM},function(t){s=t.IdleTurnStateMachie},function(t){c=t.State}],execute:function(){e._RF.push({},"2bcc6/zVyVGI4fxuWsYUuNP","SmokeDeathStateMachines",void 0);var i="texture/door/death";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,""+i)),n.stateMachine.set(a.BOTTOM,new c(e,""+i)),n.stateMachine.set(a.LEFT,new c(e,""+i)),n.stateMachine.set(a.RIGHT,new c(e,""+i)),n}return n(e,t),e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./EnityManger.ts","./SmokeMachine.ts"],(function(n){"use strict";var t,e,i,r,o,a;return{setters:[function(n){t=n.cclegacy,e=n._decorator},function(n){i=n.inheritsLoose,r=n.asyncToGenerator},function(n){o=n.EnityManger},function(n){a=n.SmokeMachine}],execute:function(){var c;t._RF.push({},"2e225WTbEBD5rG6RTAlJTC6","SmokeManager",void 0);var s=e.ccclass;n("SmokeManager",s("SmokeManager")(c=function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t.prototype.init=function(){var t=r((function*(t){this.fsm=this.addComponent(a),yield this.fsm.init(),n.prototype.init.call(this,t)}));return function(n){return t.apply(this,arguments)}}(),t}(o))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIController.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./DataManager.ts"],(function(t){"use strict";var e,n,r,o,i,l,a,c,u,s,p;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.AudioClip,o=t.Component},function(t){i=t.applyDecoratedDescriptor,l=t.inheritsLoose,a=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){u=t.EVENTMANAGER},function(t){s=t.default},function(t){p=t.default}],execute:function(){var f,d,y,h,E;e._RF.push({},"38165El3exE2LKOlo8MtPmU","UIController",void 0);var g=n.ccclass,v=n.property;t("UIController",(f=g("UIController"),d=v(r),f((E=i((h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(c(e),"soundclip",E,c(e)),e}return l(e,t),e.prototype.handler=function(t,e){null!==p.Instance.player&&s.Instance.emit(u.PLAYER_CONTROLLER,e,this.soundclip)},e}(o)).prototype,"soundclip",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=h))||y));e._RF.pop()}}}));

System.register("chunks:///_virtual/DoorDeathSubStateMachines.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,a,s,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){a=t.DRIECTION_ENUM},function(t){s=t.IdleTurnStateMachie},function(t){c=t.State}],execute:function(){e._RF.push({},"3d0dcEsVLBPKbTWVt7mzdQy","DoorDeathSubStateMachines",void 0);var i="texture/door/death";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,""+i)),n.stateMachine.set(a.BOTTOM,new c(e,""+i)),n.stateMachine.set(a.LEFT,new c(e,""+i)),n.stateMachine.set(a.RIGHT,new c(e,""+i)),n}return n(e,t),e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/BlockturnrightStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,i,c,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){i=t.DRIECTION_ENUM},function(t){c=t.IdleTurnStateMachie},function(t){a=t.State}],execute:function(){e._RF.push({},"471baDN00lHwoHfqT1qcPff","BlockturnrightStateMachine",void 0);var r="texture/player/blockturnright";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new a(e,r+"/top")),n.stateMachine.set(i.BOTTOM,new a(e,r+"/bottom")),n.stateMachine.set(i.LEFT,new a(e,r+"/left")),n.stateMachine.set(i.RIGHT,new a(e,r+"/right")),n}return n(e,t),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/level3.ts",["cc","./index3.ts"],(function(l){"use strict";var t,e,L,c,y;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,L=l.DRIECTION_ENUM,c=l.ENTINY_STATE_ENUM,y=l.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"4d6a8d+shdN9pfKRWRStK3J","level3",void 0);var s=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:0,y:8,direction:L.RIGHT,state:c.IDLE,type:y.PLAYER},r=[{x:6,y:7,direction:L.TOP,state:c.IDLE,type:y.WOODENSKELETON}],O=[{x:4,y:8,type:y.SPIKES_ONE,count:0},{x:4,y:9,type:y.SPIKES_ONE,count:0},{x:6,y:3,type:y.SPIKES_ONE,count:0},{x:7,y:3,type:y.SPIKES_ONE,count:0},{x:6,y:5,type:y.SPIKES_ONE,count:0},{x:7,y:5,type:y.SPIKES_ONE,count:0}],n={x:6,y:0,direction:L.BOTTOM,state:c.IDLE,type:y.DOOR};l("default",{mapInfo:s,player:p,enemies:r,spikes:O,bursts:[],door:n});t._RF.pop()}}}));

System.register("chunks:///_virtual/level17.ts",["cc","./index3.ts"],(function(t){"use strict";var e,L,y,O,c;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,y=t.DRIECTION_ENUM,O=t.ENTINY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"507b8SbWVxBDKZP2lCRX0uK","level17",void 0);var s=[[{src:20,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:13,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:15,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:21,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT}]],p={x:7,y:7,direction:y.LEFT,state:O.IDLE,type:c.PLAYER},r=[{x:2,y:1,direction:y.BOTTOM,state:O.IDLE,type:c.WOODENSKELETON},{x:2,y:4,direction:y.RIGHT,state:O.IDLE,type:c.WOODENSKELETON}],R=[{x:1,y:3,type:c.SPIKES_TWO,count:0},{x:3,y:3,type:c.SPIKES_TWO,count:0},{x:4,y:1,type:c.SPIKES_TWO,count:0},{x:4,y:4,type:c.SPIKES_TWO,count:0},{x:4,y:6,type:c.SPIKES_TWO,count:0},{x:5,y:3,type:c.SPIKES_TWO,count:0},{x:6,y:2,type:c.SPIKES_TWO,count:0},{x:6,y:6,type:c.SPIKES_TWO,count:0}],E=[{x:1,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:2,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:4,y:2,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:4,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:5,y:4,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:5,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:6,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP}],F={x:0,y:1,direction:y.LEFT,state:O.IDLE,type:c.DOOR};t("default",{mapInfo:s,player:p,enemies:r,spikes:R,bursts:E,door:F});e._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./level14.ts","./level10.ts","./level3.ts","./level17.ts","./level1.ts","./level2.ts","./level4.ts","./level5.ts","./level6.ts","./level7.ts","./level8.ts","./level9.ts","./level11.ts","./level12.ts","./level13.ts","./level15.ts","./level16.ts","./level18.ts","./level19.ts","./level20.ts","./level21.ts"],(function(e){"use strict";var l,t,u,n,f,v,c,i,s,a,o,d,r,h,p,x,y,_,g,F,R,S;return{setters:[function(e){l=e.cclegacy},function(e){t=e.default},function(e){u=e.default},function(e){n=e.default},function(e){f=e.default},function(e){v=e.default},function(e){c=e.default},function(e){i=e.default},function(e){s=e.default},function(e){a=e.default},function(e){o=e.default},function(e){d=e.default},function(e){r=e.default},function(e){h=e.default},function(e){p=e.default},function(e){x=e.default},function(e){y=e.default},function(e){_=e.default},function(e){g=e.default},function(e){F=e.default},function(e){R=e.default},function(e){S=e.default}],execute:function(){l._RF.push({},"51526hOc/5KJbaNjuST5cDy","index",void 0);e("default",{level1:v,level2:c,level3:n,level4:i,level5:s,level6:a,level7:o,level8:d,level9:r,level10:u,level11:h,level12:p,level13:x,level14:t,level15:y,level16:_,level17:f,level18:g,level19:F,level20:R,level21:S});l._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts"],(function(s){"use strict";var t,i,o,e,n,a,h,r,c,d;return{setters:[function(s){t=s.cclegacy,i=s._decorator,o=s.game,e=s.Component},function(s){n=s.inheritsLoose,a=s.defineProperty,h=s.assertThisInitialized},function(s){r=s.EVENTMANAGER,c=s.SHAKE_DIRECTION_ENMU},function(s){d=s.default}],execute:function(){var l;t._RF.push({},"51f4cvepehCf75bTlf/r/fi","ShakeManager",void 0);var u=i.ccclass;s("ShakeManager",u("ShakeManager")(l=function(s){function t(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return t=s.call.apply(s,[this].concat(o))||this,a(h(t),"isShaking",!1),a(h(t),"oldTime",0),a(h(t),"oldPos",{x:0,y:0}),a(h(t),"shakeType",void 0),t}n(t,s);var i=t.prototype;return i.onLoad=function(){d.Instance.on(r.SHAKE_SHOW,this.onshake,this)},i.onDstroy=function(){d.Instance.off(r.SHAKE_SHOW,this.onshake)},i.stop=function(){this.isShaking=!1},i.update=function(){if(this.isShaking){var s=(o.totalTime-this.oldTime)/1e3,t=1.6*Math.sin(12*Math.PI*s);switch(this.shakeType){case c.TOP:this.node.setPosition(this.oldPos.x,this.oldPos.y-t);break;case c.BOTTOM:this.node.setPosition(this.oldPos.x,this.oldPos.y+t);break;case c.LEFT:this.node.setPosition(this.oldPos.x-t,this.oldPos.y);break;case c.RIGHT:this.node.setPosition(this.oldPos.x+t,this.oldPos.y)}s>.2&&(this.isShaking=!1,this.node.setPosition(this.oldPos.x,this.oldPos.y))}},i.onshake=function(s){this.isShaking||(this.oldTime=o.totalTime,this.oldPos.x=this.node.position.x,this.oldPos.y=this.node.position.y,this.isShaking=!0,this.shakeType=s)},t}(e))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/DoorManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./EnityManger.ts","./DataManager.ts","./DoorSubMachine.ts"],(function(t){"use strict";var n,e,o,i,r,s,a,c,u,f;return{setters:[function(t){n=t.cclegacy,e=t._decorator},function(t){o=t.inheritsLoose,i=t.asyncToGenerator},function(t){r=t.EVENTMANAGER,s=t.ENTINY_STATE_ENUM},function(t){a=t.default},function(t){c=t.EnityManger},function(t){u=t.default},function(t){f=t.DoorSubMachine}],execute:function(){var p;n._RF.push({},"52c73qWQ25FjY17wqP77wgL","DoorManager",void 0);var h=e.ccclass;e.property,t("DoorManager",h("DoorManager")(p=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.init=function(){var n=i((function*(n){this.fsm=this.addComponent(f),yield this.fsm.init(),t.prototype.init.call(this,n),this.state=n.state,a.Instance.on(r.DOOR_OPEN,this.onOpen,this)}));return function(t){return n.apply(this,arguments)}}(),e.onDestroy=function(){a.Instance.off(r.DOOR_OPEN,this.onOpen)},e.update=function(){t.prototype.update.call(this)},e.onOpen=function(){u.Instance.enemes&&u.Instance.enemes.every((function(t){return"DEATH"===t.state}))&&this.state!==s.DEATH&&(this.state=s.DEATH)},n}(c))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/level4.ts",["cc","./index3.ts"],(function(L){"use strict";var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DRIECTION_ENUM,s=L.ENTINY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"56691/RcdhGC74DdnOBijxg","level4",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],p={x:2,y:7,direction:O.TOP,state:s.IDLE,type:c.PLAYER},y=[{x:1,y:3,direction:O.BOTTOM,state:s.IDLE,type:c.IRONSKELETON}],T={x:2,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:T});e._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./StateMachine.ts","./SpikesFourSubMachine.ts","./SpikesOneSubMachine.ts","./SpikesThreeSubMachine.ts","./SpikesTwoSubMachine.ts","./SpikesManager.ts"],(function(t){"use strict";var e,i,n,s,a,S,c,h,r,o,u,E,_,p,P;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Animation},function(t){s=t.inheritsLoose,a=t.asyncToGenerator},function(t){S=t.PARAMS_NAME_ENUM,c=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM,h=t.ENTITY_TYPE_ENUM},function(t){r=t.GetParamsNUmber,o=t.StateMachine},function(t){u=t.default},function(t){E=t.default},function(t){_=t.default},function(t){p=t.default},function(t){P=t.SpikesManager}],execute:function(){var M;e._RF.push({},"57f0bIQeeFALZbRNNJDEmzJ","SpikesMachine",void 0);var T=i.ccclass;i.property,t("SpikesMachine",T("SpikesMachine")(M=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var i=e.prototype;return i.init=function(){var t=a((function*(){this.animationComponent=this.node.addComponent(n),this.initParams(),this.initStateMachine(),this.initAnimationEvent(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),i.initAnimationEvent=function(){var t=this;this.animationComponent.on(n.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name,i=t.param.get(S.SPIKES_TOTAL_COUNT).value;(e.includes("spikesone/two")&&i===c.SPIKES_ONE||e.includes("spikesone/three")&&i===c.SPIKES_TWO||e.includes("spikesone/four")&&i===c.SPIKES_THREE||e.includes("spikesone/five")&&i===c.SPIKES_FOUR)&&t.node.getComponent(P).ResetZero()}))},i.initParams=function(){this.param.set(S.SPIKES_CUR_COUNT,r()),this.param.set(S.SPIKES_TOTAL_COUNT,r())},i.initStateMachine=function(){this.stateMachine.set(h.SPIKES_ONE,new E(this)),this.stateMachine.set(h.SPIKES_TWO,new p(this)),this.stateMachine.set(h.SPIKES_THREE,new _(this)),this.stateMachine.set(h.SPIKES_FOUR,new u(this))},i.run=function(){var t=this.param.get(S.SPIKES_TOTAL_COUNT).value;switch(this.currentState){case this.stateMachine.get(h.SPIKES_ONE):case this.stateMachine.get(h.SPIKES_TWO):case this.stateMachine.get(h.SPIKES_THREE):case this.stateMachine.get(h.SPIKES_FOUR):t===c.SPIKES_ONE?this.currentState=this.stateMachine.get(h.SPIKES_ONE):t===c.SPIKES_TWO?this.currentState=this.stateMachine.get(h.SPIKES_TWO):t===c.SPIKES_THREE?this.currentState=this.stateMachine.get(h.SPIKES_THREE):t===c.SPIKES_FOUR?this.currentState=this.stateMachine.get(h.SPIKES_FOUR):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(h.SPIKES_ONE)}},e}(o))||M);e._RF.pop()}}}));

System.register("chunks:///_virtual/level20.ts",["cc","./index3.ts"],(function(t){"use strict";var e,L,s,y,c;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,s=t.DRIECTION_ENUM,y=t.ENTINY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"5b194LMh/1JQZiRhlPGgvQY","level20",void 0);var r=[[{src:null,type:null},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:18,type:L.CLIFF_LEFT}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:L.WALL_RIGHT_TOP},{src:25,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:22,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}]],p={x:0,y:4,direction:s.RIGHT,state:y.IDLE,type:c.PLAYER},O=[{x:9,y:1,direction:s.LEFT,state:y.IDLE,type:c.WOODENSKELETON},{x:9,y:3,direction:s.LEFT,state:y.IDLE,type:c.WOODENSKELETON},{x:9,y:4,direction:s.LEFT,state:y.IDLE,type:c.WOODENSKELETON}],l=[{x:1,y:2,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:1,y:3,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:3,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:4,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:7,y:4,state:y.IDLE,type:c.BURST,direction:s.TOP}],R={x:9,y:0,direction:s.BOTTOM,state:y.IDLE,type:c.DOOR};t("default",{mapInfo:r,player:p,enemies:O,spikes:[],bursts:l,door:R});e._RF.pop()}}}));

System.register("chunks:///_virtual/IronskeletonManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./EnemyManager.ts","./IronskeletonManagerSubMachine.ts"],(function(n){"use strict";var e,t,r,o,a,i;return{setters:[function(n){e=n.cclegacy,t=n._decorator},function(n){r=n.inheritsLoose,o=n.asyncToGenerator},function(n){a=n.EnemyManager},function(n){i=n.IronskeletonManagerSubMachine}],execute:function(){var s;e._RF.push({},"5c852vVVTpKRalIIp8YlLCO","IronskeletonManager",void 0);var c=t.ccclass;t.property,n("IronskeletonManager",c("IronskeletonManager")(s=function(n){function e(){return n.apply(this,arguments)||this}return r(e,n),e.prototype.init=function(){var e=o((function*(e){this.fsm=this.addComponent(i),yield this.fsm.init(),n.prototype.init.call(this,e)}));return function(n){return e.apply(this,arguments)}}(),e}(a))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesOneSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){"use strict";var t,n,s,i,u;return{setters:[function(e){t=e.cclegacy},function(e){n=e.inheritsLoose},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.State},function(e){u=e.default}],execute:function(){t._RF.push({},"6d538b+Yq1OZpeSD7TMOJzW","SpikesOneSubMachine",void 0);var c="texture/spikes/spikesone";e("default",function(e){function t(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,c+"/zero")),n.stateMachine.set(s.ONE,new i(t,c+"/one")),n.stateMachine.set(s.TWO,new i(t,c+"/two")),n}return n(t,e),t}(u));t._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./EnityManger.ts","./DataManager.ts"],(function(t){"use strict";var n,i,e,s,o,a,c,r,h,E;return{setters:[function(t){n=t.cclegacy,i=t._decorator},function(t){e=t.inheritsLoose,s=t.asyncToGenerator},function(t){o=t.EVENTMANAGER,a=t.ENTINY_STATE_ENUM,c=t.DRIECTION_ENUM},function(t){r=t.default},function(t){h=t.EnityManger},function(t){E=t.default}],execute:function(){n._RF.push({},"7318dpa/M5P3qX/oKJCXRhe","EnemyManager",void 0);i.ccclass,i.property,t("TILE_HEIGHT",55),t("TILE_WIDTH",55),t("ANIMATION_SPEED",1/8),t("EnemyManager",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.init=function(){var n=s((function*(n){t.prototype.init.call(this,n),r.Instance.on(o.PLAYERMOVE_END,this.changeDirection,this),r.Instance.on(o.PLAYER_BORN,this.changeDirection,this),r.Instance.on(o.ATTACK_ENEMY,this.onDead,this),this.changeDirection(!0)}));return function(t){return n.apply(this,arguments)}}(),i.onDestroy=function(){t.prototype.onDestroy.call(this),r.Instance.off(o.PLAYERMOVE_END,this.changeDirection),r.Instance.off(o.PLAYER_BORN,this.changeDirection),r.Instance.off(o.ATTACK_ENEMY,this.onDead),this.destroy()},i.changeDirection=function(t){if(void 0===t&&(t=!1),E.Instance.player&&this.state!==a.DEATH){var n=E.Instance.player,i=n.x,e=n.y,s=Math.abs(this.x-i),o=Math.abs(this.y-e);(s!==o||t)&&(i>=this.x&&e<=this.y?this.direction=o>s?c.TOP:c.RIGHT:i<=this.x&&e<=this.y?this.direction=o>s?c.TOP:c.LEFT:i>=this.x&&e>=this.y?this.direction=o>s?c.BOTTOM:c.RIGHT:i<=this.x&&e>=this.y&&(this.direction=o>s?c.BOTTOM:c.LEFT))}},i.onDead=function(t){this.state!==a.DEATH&&t===this.id&&(this.state=a.DEATH)},n}(h));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleLeftStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(e){"use strict";var t,n,a,o,i,c;return{setters:[function(e){t=e.cclegacy,n=e.AnimationClip},function(e){a=e.inheritsLoose},function(e){o=e.DRIECTION_ENUM},function(e){i=e.IdleTurnStateMachie},function(e){c=e.State}],execute:function(){t._RF.push({},"75067V6Ub9JQ4eao9G0+f4F","IdleLeftStateMachine",void 0);var r="texture/player/idle";e("default",function(e){function t(t){var a;return(a=e.call(this,t)||this).stateMachine.set(o.TOP,new c(t,r+"/top",n.WrapMode.Loop)),a.stateMachine.set(o.BOTTOM,new c(t,r+"/bottom",n.WrapMode.Loop)),a.stateMachine.set(o.LEFT,new c(t,r+"/left",n.WrapMode.Loop)),a.stateMachine.set(o.RIGHT,new c(t,r+"/right",n.WrapMode.Loop)),a}return a(t,e),t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/BurstManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./EnityManger.ts","./DataManager.ts","./BurstMachine.ts"],(function(t){"use strict";var n,s,e,i,r,o,a,u,c,h,f,E,p,l;return{setters:[function(t){n=t.cclegacy,s=t._decorator,e=t.UITransform},function(t){i=t.inheritsLoose,r=t.asyncToGenerator},function(t){o=t.EVENTMANAGER,a=t.ENTINY_STATE_ENUM,u=t.SHAKE_DIRECTION_ENMU},function(t){c=t.default},function(t){h=t.TILE_WIDTH,f=t.TILE_HEIGHT,E=t.EnityManger},function(t){p=t.default},function(t){l=t.BurstMachine}],execute:function(){var T;n._RF.push({},"750e5R14QdIl5dzpbQjYWQv","BurstManager",void 0);var y=s.ccclass;s.property,t("BurstManager",y("BurstManager")(T=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var s=n.prototype;return s.init=function(){var n=r((function*(n){this.fsm=this.addComponent(l),yield this.fsm.init(),t.prototype.init.call(this,n),this.transfrom=this.getComponent(e),this.transfrom.setContentSize(h,f),c.Instance.on(o.PLAYERMOVE_END,this.onBurst,this)}));return function(t){return n.apply(this,arguments)}}(),s.onDestroy=function(){t.prototype.onDestroy.call(this),c.Instance.off(o.PLAYERMOVE_END,this.onBurst)},s.update=function(){this.node.setPosition(this.x*h,-this.y*f)},s.onBurst=function(){if(null!==p.Instance.player){var t=p.Instance.player,n=t.x,s=t.y;this.x===n&&this.y===s&&this.state===a.IDLE?this.state=a.ATTACK:this.state===a.ATTACK&&(this.state=a.DEATH,c.Instance.emit(o.SHAKE_SHOW,u.BOTTOM),this.x===n&&this.y===s&&c.Instance.emit(o.ATTACK_PLAYER,a.AIRDEATH))}},n}(E))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockturnleftStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,c,i,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){c=t.DRIECTION_ENUM},function(t){i=t.IdleTurnStateMachie},function(t){a=t.State}],execute:function(){e._RF.push({},"7611bvbz7NMHq5XoKxq3OTx","BlockturnleftStateMachine",void 0);var s="texture/player/blockturnleft";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new a(e,s+"/top")),n.stateMachine.set(c.BOTTOM,new a(e,s+"/bottom")),n.stateMachine.set(c.LEFT,new a(e,s+"/left")),n.stateMachine.set(c.RIGHT,new a(e,s+"/right")),n}return n(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts"],(function(r){"use strict";var e,n,t,o,i,a,c,s,u,l,p;return{setters:[function(r){e=r.cclegacy,n=r._decorator,t=r.ProgressBar,o=r.resources,i=r.director,a=r.Component},function(r){c=r.applyDecoratedDescriptor,s=r.inheritsLoose,u=r.initializerDefineProperty,l=r.assertThisInitialized},function(r){p=r.SCENE_ENUM}],execute:function(){var g,d,f,y,b;e._RF.push({},"76b82Zsz2RN05eJtRTRxW5r","LoadingManager",void 0);var h=n.ccclass,v=n.property;r("LoadingManager",(g=h("LoadingManager"),d=v(t),g((b=c((y=function(r){function e(){for(var e,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return e=r.call.apply(r,[this].concat(t))||this,u(l(e),"bar",b,l(e)),e}return s(e,r),e.prototype.onLoad=function(){var r=this;o.preloadDir("texture",(function(e,n){r.bar.progress=e/n}),(function(){i.loadScene(p.strat)}))},e}(a)).prototype,"bar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));e._RF.pop()}}}));

System.register("chunks:///_virtual/level6.ts",["cc","./index3.ts"],(function(L){"use strict";var e,t,O,s,r;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DRIECTION_ENUM,s=L.ENTINY_STATE_ENUM,r=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"7b509GovLZCMLuXEHH0KrSh","level6",void 0);var c=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_COLUMN},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],y={x:0,y:3,direction:O.RIGHT,state:s.IDLE,type:r.PLAYER},p=[{x:5,y:2,direction:O.LEFT,state:s.IDLE,type:r.WOODENSKELETON},{x:5,y:4,direction:O.LEFT,state:s.IDLE,type:r.WOODENSKELETON}],R={x:8,y:3,direction:O.LEFT,state:s.IDLE,type:r.DOOR};L("default",{mapInfo:c,player:y,enemies:p,spikes:[],bursts:[],door:R});e._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachines.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,a,s,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){a=t.DRIECTION_ENUM},function(t){s=t.IdleTurnStateMachie},function(t){i=t.State}],execute:function(){e._RF.push({},"7deffjZEDhFD498ZOFjSHSU","DeathSubStateMachines",void 0);var c="texture/woodenskeleton/death";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new i(e,c+"/top")),n.stateMachine.set(a.BOTTOM,new i(e,c+"/bottom")),n.stateMachine.set(a.LEFT,new i(e,c+"/left")),n.stateMachine.set(a.RIGHT,new i(e,c+"/right")),n}return n(e,t),e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/MusicManager.ts",["cc","./index.ts","./_rollupPluginModLoBabelHelpers.js","./Singleton.ts","./AudioManager.ts"],(function(t){"use strict";var o,n,i,e,r,u,s,a,d,c;return{setters:[function(t){o=t.cclegacy,n=t.game,i=t.RenderRoot2D},function(t){e=t.creatUINode},function(t){r=t.inheritsLoose,u=t.createClass,s=t.defineProperty,a=t.assertThisInitialized},function(t){d=t.default},function(t){c=t.AudioManager}],execute:function(){o._RF.push({},"808a4J5QLVFl6HHLF6J1RI6","MusicManager",void 0);t("default",function(t){function o(){for(var o,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return o=t.call.apply(t,[this].concat(i))||this,s(a(o),"_audio",null),s(a(o),"root",null),o}r(o,t);var d=o.prototype;return d.play=function(t,o){return this.audio.playMusic(t,o)},d.sound=function(t,o){return this.audio.playSound(t,o)},d.stop=function(){return this.audio.stop()},d.destory=function(){return this.audio.stop(),n.removePersistRootNode(this.root),this.audio.destory()},u(o,[{key:"audio",get:function(){if(null!==this._audio)return this._audio;this.root=e(),this.root.addComponent(i);var t=e();return t.setParent(this.root),this._audio=t.addComponent(c),this._audio.init(),n.addPersistRootNode(this.root),this._audio}}],[{key:"Instance",get:function(){return t.GetInstance.call(this)}}]),o}(d));o._RF.pop()}}}));

System.register("chunks:///_virtual/level9.ts",["cc","./index3.ts"],(function(t){"use strict";var L,e,y,c,O;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,y=t.DRIECTION_ENUM,c=t.ENTINY_STATE_ENUM,O=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"80cc11xeBhBpLrAi6mpMUUD","level9",void 0);var s=[[{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:2,y:11,direction:y.TOP,state:c.IDLE,type:O.PLAYER},p=[{x:1,y:1,direction:y.BOTTOM,state:c.IDLE,type:O.WOODENSKELETON},{x:2,y:7,direction:y.BOTTOM,state:c.IDLE,type:O.WOODENSKELETON}],T=[{x:1,y:3,type:O.SPIKES_THREE,count:0},{x:3,y:6,type:O.SPIKES_ONE,count:0},{x:2,y:9,type:O.SPIKES_TWO,count:0}],_=[{x:3,y:1,state:c.IDLE,type:O.BURST,direction:y.TOP},{x:3,y:4,state:c.IDLE,type:O.BURST,direction:y.TOP},{x:3,y:5,state:c.IDLE,type:O.BURST,direction:y.TOP},{x:2,y:10,state:c.IDLE,type:O.BURST,direction:y.TOP},{x:3,y:10,state:c.IDLE,type:O.BURST,direction:y.TOP}],E={x:0,y:1,direction:y.LEFT,state:c.IDLE,type:O.DOOR};t("default",{mapInfo:s,player:r,enemies:p,spikes:T,bursts:_,door:E});L._RF.pop()}}}));

System.register("chunks:///_virtual/DoorSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./StateMachine.ts","./DoorIdleSubStateMachines.ts","./DoorDeathSubStateMachines.ts"],(function(t){"use strict";var e,i,n,a,s,r,c,o,h,u,M;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Animation},function(t){a=t.inheritsLoose,s=t.asyncToGenerator},function(t){r=t.PARAMS_NAME_ENUM},function(t){c=t.GetParamsTrigger,o=t.GetParamsNUmber,h=t.StateMachine},function(t){u=t.default},function(t){M=t.default}],execute:function(){var p;e._RF.push({},"82d5drDku9BlJk7ncV5ZlC5","DoorSubMachine",void 0);var f=i.ccclass;i.property,t("DoorSubMachine",f("DoorSubMachine")(p=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.init=function(){var t=s((function*(){this.animationComponent=this.node.addComponent(n),this.initParams(),this.initStateMachine(),this.initEventMachine(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),i.initEventMachine=function(){this.animationComponent.on(n.EventType.FINISHED,(function(){}))},i.initParams=function(){this.param.set(r.IDLE,c()),this.param.set(r.DEATH,c()),this.param.set(r.DRIECTION,o())},i.initStateMachine=function(){this.stateMachine.set(r.IDLE,new u(this)),this.stateMachine.set(r.DEATH,new M(this))},i.run=function(){switch(this.currentState){case this.stateMachine.get(r.IDLE):case this.stateMachine.get(r.DEATH):this.param.get(r.DEATH).value?this.currentState=this.stateMachine.get(r.DEATH):this.param.get(r.IDLE).value?this.currentState=this.stateMachine.get(r.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(r.IDLE)}},e}(h))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/BlockblackStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,c,a,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){c=t.DRIECTION_ENUM},function(t){a=t.IdleTurnStateMachie},function(t){i=t.State}],execute:function(){e._RF.push({},"89ef1ycB/dONogNorY5TOcc","BlockblackStateMachine",void 0);var s="texture/player/blockback";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new i(e,s+"/top")),n.stateMachine.set(c.BOTTOM,new i(e,s+"/bottom")),n.stateMachine.set(c.LEFT,new i(e,s+"/left")),n.stateMachine.set(c.RIGHT,new i(e,s+"/right")),n}return n(e,t),e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Singleton.ts"],(function(t){"use strict";var e,n,i,s,o,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose,i=t.createClass,s=t.defineProperty,o=t.assertThisInitialized},function(t){r=t.default}],execute:function(){e._RF.push({},"8a79e9sTlVCOqLAb+6avxnB","DataManager",void 0);t("default",function(t){function e(){var e;return e=t.call(this)||this,s(o(e),"mapInfo",[]),s(o(e),"mapRowCount",0),s(o(e),"mapColumnCount",0),s(o(e),"levelindex",1),s(o(e),"tileInfo",[]),s(o(e),"player",void 0),s(o(e),"enemes",void 0),s(o(e),"door",void 0),s(o(e),"burst",void 0),s(o(e),"spikes",void 0),s(o(e),"smoke",void 0),s(o(e),"record",void 0),e.reset(),e}return n(e,t),e.prototype.reset=function(){this.mapInfo=[],this.mapColumnCount=0,this.tileInfo=[],this.mapRowCount=0,this.player=null,this.enemes=[],this.door=null,this.burst=[],this.spikes=[],this.smoke=[],this.record=[]},i(e,null,[{key:"Instance",get:function(){return t.GetInstance.call(this)}}]),e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc"],(function(E){"use strict";var T;return{setters:[function(E){T=E.cclegacy}],execute:function(){var O,R,_,L,N,I,S,A,K,U,C,P,M,F;E({CONTROLLER_ENMU:void 0,DIRECTION_ORDER_ENUM:void 0,DRIECTION_ENUM:void 0,ENTINY_STATE_ENUM:void 0,ENTITY_TYPE_ENUM:void 0,EVENTMANAGER:void 0,FMS_PARAMS_ENUM:void 0,PARAMS_NAME_ENUM:void 0,SCENE_ENUM:void 0,SHAKE_DIRECTION_ENMU:void 0,SPIKES_COUNT_ENUM:void 0,SPIKES_COUNT_MAP_NUMBER_ENUM:void 0,SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM:void 0,TILE_TYPE_ENUM:void 0}),T._RF.push({},"8d159NUPipFGIW68n2BLUj6","index",void 0),function(E){E.WALL_LEFT_TOP="WALL_LEFT_TOP",E.WALL_COLUMN="WALL_COLUMN",E.WALL_LEFT_BOTTOM="WALL_LEFT_BOTTOM",E.CLIFF_LEFT="CLIFF_LEFT",E.WALL_RIGHT_BOTTOM="WALL_RIGHT_BOTTOM",E.FLOOR="FLOOR",E.CLIFF_CENTER="CLIFF_CENTER",E.WALL_ROW="WALL_ROW",E.WALL_RIGHT_TOP="WALL_RIGHT_TOP",E.CLIFF_RIGHT="CLIFF_RIGHT"}(O||(O=E("TILE_TYPE_ENUM",{}))),function(E){E.NEXT_LEVEL="NEXT_LEVEL",E.PLAYER_CONTROLLER="PLAYER_CONTROLLER",E.PLAYERMOVE_END="PLAYER_END",E.PLAYER_BORN="PLAYER_BORN",E.ATTACK_PLAYER="ATTACK_PLAYER",E.ATTACK_ENEMY="ATTACK_ENEMY",E.DOOR_OPEN="DOOR_OPEN",E.SMOKE_SHOW="SMOKE_SHOW",E.SHAKE_SHOW="SHAKE_SHOW",E.RECORD_STEP="RECORD_STEP",E.REVOKE_STEP="REVOKE_STEP",E.RESTART="RESTART",E.EXIT="EXIT"}(R||(R=E("EVENTMANAGER",{}))),function(E){E.TOP="TOP",E.BOTTOM="BOTTOM",E.LEFT="LEFT",E.RIGHT="RIGHT",E.TURN_LEFT="TURN_LEFT",E.TURN_RIGHT="TURN_RIGHT"}(_||(_=E("CONTROLLER_ENMU",{}))),function(E){E.TRIGER="TRIGER",E.NUMBER="NUMBER"}(L||(L=E("FMS_PARAMS_ENUM",{}))),function(E){E.IDLE="IDLE",E.TURN_LEFT="TURN_LEFT",E.DRIECTION="DRIECTION",E.TURN_RIGHT="TURN_RIGHT",E.BLOCKFRONT="BLOCKFRONT",E.BLOCKTURNLEFT="BLOCKTURNLEFT",E.BLOCKBACK="BLOCKBACK",E.BLOCKLEFT="BLOCKLEFT",E.BLOCKRIGHT="BLOCKRIGHT",E.BLOCKTURNRIGHT="BLOCKTURNRIGHT",E.ATTACK="ATTACK",E.DEATH="DEATH",E.AIRDEATH="AIRDEATH",E.SPIKES_TOTAL_COUNT="SPIKES_TOTAL_COUNT",E.SPIKES_CUR_COUNT="SPIKES_CUR_COUNT"}(N||(N=E("PARAMS_NAME_ENUM",{}))),function(E){E.TOP="TOP",E.BOTTOM="BOTTOM",E.LEFT="LEFT",E.RIGHT="RIGHT"}(I||(I=E("DRIECTION_ENUM",{}))),function(E){E.IDLE="IDLE",E.TURN_LEFT="TURN_LEFT",E.TURN_RIGHT="TURN_RIGHT",E.BLOCKFRONT="BLOCKFRONT",E.BLOCKTURNLEFT="BLOCKTURNLEFT",E.BLOCKBACK="BLOCKBACK",E.BLOCKLEFT="BLOCKLEFT",E.BLOCKRIGHT="BLOCKRIGHT",E.BLOCKTURNRIGHT="BLOCKTURNRIGHT",E.ATTACK="ATTACK",E.DEATH="DEATH",E.AIRDEATH="AIRDEATH"}(S||(S=E("ENTINY_STATE_ENUM",{}))),function(E){E[E.TOP=0]="TOP",E[E.BOTTOM=1]="BOTTOM",E[E.LEFT=2]="LEFT",E[E.RIGHT=3]="RIGHT"}(A||(A=E("DIRECTION_ORDER_ENUM",{}))),function(E){E.PLAYER="PLAYER",E.WOODENSKELETON="WOODENSKELETON",E.DOOR="DOOR",E.IRONSKELETON="IRONSKELETON",E.BURST="BURST",E.SPIKES_ONE="SPIKES_ONE",E.SPIKES_TWO="SPIKES_TWO",E.SPIKES_THREE="SPIKES_THREE",E.SPIKES_FOUR="SPIKES_FOUR",E.SMOKE="SMOKE"}(K||(K=E("ENTITY_TYPE_ENUM",{}))),function(E){E[E.SPIKES_ONE=2]="SPIKES_ONE",E[E.SPIKES_TWO=3]="SPIKES_TWO",E[E.SPIKES_THREE=4]="SPIKES_THREE",E[E.SPIKES_FOUR=5]="SPIKES_FOUR"}(U||(U=E("SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM",{}))),function(E){E.ZERO="ZERO",E.ONE="ONE",E.TWO="TWO",E.THREE="THREE",E.FOUR="FOUR",E.FIVE="FIVE"}(C||(C=E("SPIKES_COUNT_ENUM",{}))),function(E){E[E.ZERO=0]="ZERO",E[E.ONE=1]="ONE",E[E.TWO=2]="TWO",E[E.THREE=3]="THREE",E[E.FOUR=4]="FOUR",E[E.FIVE=5]="FIVE"}(P||(P=E("SPIKES_COUNT_MAP_NUMBER_ENUM",{}))),function(E){E.TOP="TOP",E.BOTTOM="BOTTOM",E.LEFT="LEFT",E.RIGHT="RIGHT"}(M||(M=E("SHAKE_DIRECTION_ENMU",{}))),function(E){E.strat="start",E.scene="scene",E.loading="loading"}(F||(F=E("SCENE_ENUM",{}))),T._RF.pop()}}}));

System.register("chunks:///_virtual/level18.ts",["cc","./index3.ts"],(function(t){"use strict";var L,e,c,s,y;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,c=t.DRIECTION_ENUM,s=t.ENTINY_STATE_ENUM,y=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"8dd309jCaFJtZkhwrGYpwLB","level18",void 0);var r=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],p={x:3,y:8,direction:c.LEFT,state:s.IDLE,type:y.PLAYER},l=[{x:1,y:1,direction:c.BOTTOM,state:s.IDLE,type:y.WOODENSKELETON},{x:3,y:2,direction:c.BOTTOM,state:s.IDLE,type:y.WOODENSKELETON}],O=[{x:1,y:4,type:y.SPIKES_TWO,count:0},{x:1,y:6,type:y.SPIKES_TWO,count:0},{x:1,y:8,type:y.SPIKES_FOUR,count:0}],_=[{x:1,y:5,state:s.IDLE,type:y.BURST,direction:c.TOP},{x:2,y:9,state:s.IDLE,type:y.BURST,direction:c.TOP}],n={x:5,y:2,direction:c.LEFT,state:s.IDLE,type:y.DOOR};t("default",{mapInfo:r,player:p,enemies:l,spikes:O,bursts:_,door:n});L._RF.pop()}}}));

System.register("chunks:///_virtual/BattleManager.ts",["cc","./index.ts","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./DataManager.ts","./MusicManager.ts","./PlayerManager.ts","./SpikesManager.ts","./WoodenSkeletonManager.ts","./SmokeManager.ts","./index2.ts","./ShakeManager.ts","./DoorManager.ts","./IronskeletonManager.ts","./BurstManager.ts","./TlieMapManager.ts","./FaderManager.ts"],(function(e){"use strict";var t,n,a,s,r,i,o,c,l,u,p,d,h,y,I,f,v,g,E,m,k,M,x,S,T,L,P,C,D,_;return{setters:[function(e){t=e.cclegacy,n=e._decorator,a=e.AudioClip,s=e.director,r=e.Component},function(e){i=e.creatUINode},function(e){o=e.applyDecoratedDescriptor,c=e.inheritsLoose,l=e.initializerDefineProperty,u=e.assertThisInitialized,p=e.defineProperty,d=e.asyncToGenerator},function(e){h=e.SCENE_ENUM,y=e.EVENTMANAGER,I=e.ENTINY_STATE_ENUM,f=e.ENTITY_TYPE_ENUM},function(e){v=e.default},function(e){g=e.default},function(e){E=e.default},function(e){m=e.PlayerManager},function(e){k=e.SpikesManager},function(e){M=e.WoodenSkeletonManager},function(e){x=e.SmokeManager},function(e){S=e.default},function(e){T=e.ShakeManager},function(e){L=e.DoorManager},function(e){P=e.IronskeletonManager},function(e){C=e.BurstManager},function(e){D=e.TlieMapManager},function(e){_=e.default}],execute:function(){var R,b,N,A,O;t._RF.push({},"91725WHhqRC5bd9qAUCdu+z","BattleManager",void 0);var B=n.ccclass,H=n.property;e("BattleManager",(R=B("BattleManager"),b=H(a),R((O=o((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,l(u(t),"clip",O,u(t)),p(u(t),"levelss",void 0),p(u(t),"stage",null),p(u(t),"smokeLayer",null),p(u(t),"hasinited",!1),t}c(t,e);var n=t.prototype;return n.start=function(){this.initScence()},n.initScence=function(){this.generaterStage(),this.initLevel()},n.onLoad=function(){s.preloadScene(h.strat),g.Instance.levelindex=1,v.Instance.on(y.NEXT_LEVEL,this.nextlevel,this),v.Instance.on(y.PLAYERMOVE_END,this.CheeckDoor,this),v.Instance.on(y.SMOKE_SHOW,this.generaterSmoke,this),v.Instance.on(y.RECORD_STEP,this.record,this),v.Instance.on(y.REVOKE_STEP,this.revoke,this),v.Instance.on(y.RESTART,this.reStart,this),v.Instance.on(y.EXIT,this.exit,this)},n.onDestroy=function(){v.Instance.off(y.NEXT_LEVEL,this.nextlevel),v.Instance.off(y.PLAYERMOVE_END,this.CheeckDoor),v.Instance.off(y.SMOKE_SHOW,this.generaterSmoke),v.Instance.off(y.RECORD_STEP,this.record),v.Instance.off(y.REVOKE_STEP,this.revoke),v.Instance.off(y.RESTART,this.reStart),v.Instance.off(y.EXIT,this.exit),v.Instance.clear()},n.reStart=function(){E.Instance.stop(),this.initLevel()},n.exit=function(){this.node.destroy(),E.Instance.destory(),s.loadScene(h.strat)},n.initLevel=function(){var e=d((function*(){var e,t=S["level"+g.Instance.levelindex];t?(this.hasinited?yield _.Instance.fadeIn():yield _.Instance.mask(),this.clearlevel(),this.levelss=t,g.Instance.mapInfo=this.levelss.mapInfo,g.Instance.mapColumnCount=(null===(e=this.levelss.mapInfo[0])||void 0===e?void 0:e.length)||0,g.Instance.mapRowCount=this.levelss.mapInfo.length||0,yield Promise.all([this.generateTileMap(),this.generaterDoor(),this.generaterEnemy(),this.generaterSmokeLayer(),this.generaterSpikes(),this.generaterBurst()]),yield this.generaterPlayer(),this.hasinited=!0,yield _.Instance.fadeOut(),yield E.Instance.play(!0,this.clip)):this.exit()}));return function(){return e.apply(this,arguments)}}(),n.nextlevel=function(){g.Instance.levelindex++,this.initLevel()},n.clearlevel=function(){this.stage.destroyAllChildren(),g.Instance.reset()},n.generaterStage=function(){this.stage=i(),this.stage.setParent(this.node),this.stage.setSiblingIndex(2),this.stage.addComponent(T)},n.generateTileMap=function(){var e=d((function*(){var e=i();e.setParent(this.stage);var t=e.addComponent(D);yield t.init(),this.adaptor()}));return function(){return e.apply(this,arguments)}}(),n.generaterPlayer=function(){var e=d((function*(){var e=i();e.setParent(this.stage);var t=e.addComponent(m);yield t.init(this.levelss.player),g.Instance.player=t,v.Instance.emit(y.PLAYER_BORN,!0)}));return function(){return e.apply(this,arguments)}}(),n.generaterEnemy=function(){var e=d((function*(){g.Instance.enemes=[];for(var e=[],t=0;t<this.levelss.enemies.length;t++){var n=this.levelss.enemies[t],a=i();a.setParent(this.stage);var s=n.type===f.WOODENSKELETON?M:P,r=a.addComponent(s);e.push(r.init(n)),g.Instance.enemes.push(r)}}));return function(){return e.apply(this,arguments)}}(),n.generaterDoor=function(){var e=d((function*(){var e=i();e.setParent(this.stage);var t=e.addComponent(L);yield t.init(this.levelss.door),g.Instance.door=t}));return function(){return e.apply(this,arguments)}}(),n.generaterBurst=function(){var e=d((function*(){var e=[];g.Instance.burst=[];for(var t=0;t<this.levelss.bursts.length;t++){var n=this.levelss.bursts[t],a=i();a.setParent(this.stage);var s=a.addComponent(C);e.push(s.init(n)),g.Instance.burst.push(s)}}));return function(){return e.apply(this,arguments)}}(),n.generaterSpikes=function(){var e=d((function*(){var e=[];g.Instance.spikes=[];for(var t=0;t<this.levelss.spikes.length;t++){var n=this.levelss.spikes[t],a=i();a.setParent(this.stage);var s=a.addComponent(k);e.push(s.init(n)),g.Instance.spikes.push(s)}}));return function(){return e.apply(this,arguments)}}(),n.generaterSmokeLayer=function(){var e=d((function*(){this.smokeLayer=i(),this.smokeLayer.setParent(this.stage)}));return function(){return e.apply(this,arguments)}}(),n.generaterSmoke=function(){var e=d((function*(e,t,n){var a=g.Instance.smoke.find((function(e){return e.state===I.DEATH}));if(a)a.x=t,a.y=n,a.direction=e,a.node.setPosition(55*a.x,55*-a),a.state=I.IDLE;else{var s=i();s.setParent(this.smokeLayer);var r=s.addComponent(x);yield r.init({x:t,y:n,direction:e,state:I.IDLE,type:f.SMOKE}),g.Instance.smoke.push(r)}}));return function(t,n,a){return e.apply(this,arguments)}}(),n.adaptor=function(){var e=g.Instance,t=e.mapColumnCount,n=e.mapRowCount/2*55,a=55*t/2+80;this.stage.setPosition(-n,a),this.stage.getComponent(T).stop()},n.CheeckDoor=function(){var e=g.Instance.player,t=e.x,n=e.y,a=g.Instance.door,s=a.x,r=a.y,i=a.state;s===t&&r===n&&i===I.DEATH&&v.Instance.emit(y.NEXT_LEVEL)},n.record=function(){var e={player:{x:g.Instance.player.x,y:g.Instance.player.y,type:g.Instance.player.type,direction:g.Instance.player.direction,state:g.Instance.player.state===I.AIRDEATH||g.Instance.player.state===I.DEATH||g.Instance.player.state===I.IDLE?g.Instance.player.state:I.IDLE},door:{x:g.Instance.door.x,y:g.Instance.door.y,type:g.Instance.door.type,direction:g.Instance.door.direction,state:g.Instance.door.state},enemies:g.Instance.enemes.map((function(e){return{x:e.x,y:e.y,direction:e.direction,state:e.state,type:e.type}})),bursts:g.Instance.burst.map((function(e){return{x:e.x,y:e.y,direction:e.direction,state:e.state,type:e.type}})),spikes:g.Instance.spikes.map((function(e){return{x:e.x,y:e.y,count:e.count,type:e.type}}))};g.Instance.record.push(e)},n.revoke=function(){var e=g.Instance.record.pop();if(e){g.Instance.player.x=g.Instance.player.targetX=e.player.x,g.Instance.player.y=g.Instance.player.targetY=e.player.y,g.Instance.player.state=e.player.state,g.Instance.player.direction=e.player.direction,g.Instance.door.x=e.door.x,g.Instance.door.y=e.door.y,g.Instance.door.state=e.door.state,g.Instance.door.direction=e.door.direction;for(var t=0;t<g.Instance.enemes.length;t++){var n=e.enemies[t];g.Instance.enemes[t].x=n.x,g.Instance.enemes[t].y=n.y,g.Instance.enemes[t].state=n.state,g.Instance.enemes[t].direction=n.direction,g.Instance.enemes[t].type=n.type}for(var a=0;a<g.Instance.burst.length;a++){var s=e.bursts[a];g.Instance.burst[a].x=s.x,g.Instance.burst[a].y=s.y,g.Instance.burst[a].state=s.state,g.Instance.burst[a].direction=s.direction}for(var r=0;r<g.Instance.spikes.length;r++){var i=e.spikes[r];g.Instance.spikes[r].x=i.x,g.Instance.spikes[r].y=i.y,g.Instance.spikes[r].count=i.count,g.Instance.spikes[r].type=i.type}}},t}(r)).prototype,"clip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=A))||N));t._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachines.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(e){"use strict";var t,n,o,a,i,s;return{setters:[function(e){t=e.cclegacy,n=e.AnimationClip},function(e){o=e.inheritsLoose},function(e){a=e.DRIECTION_ENUM},function(e){i=e.IdleTurnStateMachie},function(e){s=e.State}],execute:function(){t._RF.push({},"959c5y1GydMeaRVxVZTSmdC","IdleSubStateMachines",void 0);var c="texture/woodenskeleton/idle";e("default",function(e){function t(t){var o;return(o=e.call(this,t)||this).stateMachine.set(a.TOP,new s(t,c+"/top",n.WrapMode.Loop)),o.stateMachine.set(a.BOTTOM,new s(t,c+"/bottom",n.WrapMode.Loop)),o.stateMachine.set(a.LEFT,new s(t,c+"/left",n.WrapMode.Loop)),o.stateMachine.set(a.RIGHT,new s(t,c+"/right",n.WrapMode.Loop)),o}return o(t,e),t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeIdleStateMachines.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EnityManger.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,i,s,a,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){i=t.DRIECTION_ENUM},function(t){s=t.ANIMATION_SPEED},function(t){a=t.IdleTurnStateMachie},function(t){c=t.State}],execute:function(){e._RF.push({},"9a757I4WfRP0IeUOGe9JQYp","SmokeIdleStateMachines",void 0);var u="texture/smoke/idle";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new c(e,u+"/top",s/1.5)),n.stateMachine.set(i.BOTTOM,new c(e,u+"/bottom",s/1.5)),n.stateMachine.set(i.LEFT,new c(e,u+"/left",s/1.5)),n.stateMachine.set(i.RIGHT,new c(e,u+"/right",s/1.5)),n}return n(e,t),e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/level2.ts",["cc","./index3.ts"],(function(L){"use strict";var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DRIECTION_ENUM,s=L.ENTINY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"9e8460anQ1GH5WkAOWVIGfL","level2",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:21,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],y={x:2,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.PLAYER},p=[{x:3,y:2,direction:O.TOP,state:s.IDLE,type:c.WOODENSKELETON},{x:4,y:3,direction:O.TOP,state:s.IDLE,type:c.WOODENSKELETON}],_={x:5,y:3,direction:O.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:y,enemies:p,spikes:[],bursts:[],door:_});e._RF.pop()}}}));

System.register("chunks:///_virtual/FaderManager.ts",["cc","./index.ts","./_rollupPluginModLoBabelHelpers.js","./Singleton.ts","./DrawManager.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,u,d,f,c;return{setters:[function(e){t=e.cclegacy,n=e.RenderRoot2D,r=e.game},function(e){a=e.creatUINode},function(e){i=e.inheritsLoose,o=e.createClass,s=e.defineProperty,u=e.assertThisInitialized},function(e){d=e.default},function(e){f=e.DURATION,c=e.DrawManager}],execute:function(){t._RF.push({},"a00d2ezNL5Cjo0mLHoLAjc3","FaderManager",void 0);e("default",function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,s(u(t),"_fader",null),t}i(t,e);var d=t.prototype;return d.fadeIn=function(e){return void 0===e&&(e=f),this.fader.fadeIn(e)},d.fadeOut=function(e){return void 0===e&&(e=f),this.fader.fadeOut(e)},d.mask=function(){return this.fader.mask()},o(t,[{key:"fader",get:function(){if(null!==this._fader)return this._fader;var e=a();e.addComponent(n);var t=a();return t.setParent(e),this._fader=t.addComponent(c),this._fader.init(),r.addPersistRootNode(e),this._fader}}],[{key:"Instance",get:function(){return e.GetInstance.call(this)}}]),t}(d));t._RF.pop()}}}));

System.register("chunks:///_virtual/level15.ts",["cc","./index3.ts"],(function(L){"use strict";var t,e,s,c,y;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,s=L.DRIECTION_ENUM,c=L.ENTINY_STATE_ENUM,y=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"a01e1JiVCNL7osS4RlWK+o1","level15",void 0);var r=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:25,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_TOP},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:1,type:e.FLOOR},{src:22,type:e.WALL_ROW},{src:28,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}]],O={x:0,y:1,direction:s.RIGHT,state:c.IDLE,type:y.PLAYER},p=[{x:2,y:4,direction:s.TOP,state:c.IDLE,type:y.WOODENSKELETON},{x:4,y:6,direction:s.TOP,state:c.IDLE,type:y.WOODENSKELETON}],l=[{x:1,y:2,type:y.SPIKES_THREE,count:0},{x:2,y:2,type:y.SPIKES_THREE,count:0},{x:2,y:6,type:y.SPIKES_TWO,count:0}],_={x:7,y:7,direction:s.LEFT,state:c.IDLE,type:y.DOOR};L("default",{mapInfo:r,player:O,enemies:p,spikes:l,bursts:[],door:_});t._RF.pop()}}}));

System.register("chunks:///_virtual/level19.ts",["cc","./index3.ts"],(function(L){"use strict";var t,e,s,y,c;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,s=L.DRIECTION_ENUM,y=L.ENTINY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"a2c261GB/dEsYhYyhnNapot","level19",void 0);var O=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:1,type:e.FLOOR},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}]],r={x:0,y:1,direction:s.RIGHT,state:y.IDLE,type:c.PLAYER},p=[{x:2,y:5,direction:s.TOP,state:y.IDLE,type:c.WOODENSKELETON},{x:4,y:9,direction:s.TOP,state:y.IDLE,type:c.WOODENSKELETON}],R=[{x:1,y:5,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:1,y:6,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:1,y:7,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:8,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:1,y:9,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:6,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:7,state:y.IDLE,type:c.BURST,direction:s.TOP}],_={x:6,y:9,direction:s.LEFT,state:y.IDLE,type:c.DOOR};L("default",{mapInfo:O,player:r,enemies:p,spikes:[],bursts:R,door:_});t._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesThreeSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){"use strict";var t,n,s,i,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.inheritsLoose},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.State},function(e){c=e.default}],execute:function(){t._RF.push({},"a5e1evtdiVAyIBRO0EZxzIC","SpikesThreeSubMachine",void 0);var u="texture/spikes/spikesthree";e("default",function(e){function t(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,u+"/zero")),n.stateMachine.set(s.ONE,new i(t,u+"/one")),n.stateMachine.set(s.TWO,new i(t,u+"/two")),n.stateMachine.set(s.THREE,new i(t,u+"/three")),n.stateMachine.set(s.FOUR,new i(t,u+"/four")),n}return n(t,e),t}(c));t._RF.pop()}}}));

System.register("chunks:///_virtual/level16.ts",["cc","./index3.ts"],(function(t){"use strict";var L,e,O,y,c;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,O=t.DRIECTION_ENUM,y=t.ENTINY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"a7dcc48Na5KQZZmJGUM0Fdp","level16",void 0);var s=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT},{src:null,type:null}]],r={x:0,y:1,direction:O.RIGHT,state:y.IDLE,type:c.PLAYER},p=[{x:4,y:4,direction:O.LEFT,state:y.IDLE,type:c.WOODENSKELETON},{x:5,y:3,direction:O.LEFT,state:y.IDLE,type:c.WOODENSKELETON},{x:6,y:2,direction:O.LEFT,state:y.IDLE,type:c.WOODENSKELETON},{x:4,y:6,direction:O.TOP,state:y.IDLE,type:c.WOODENSKELETON},{x:4,y:7,direction:O.TOP,state:y.IDLE,type:c.IRONSKELETON}],R=[{x:4,y:5,type:c.SPIKES_THREE,count:0},{x:5,y:5,type:c.SPIKES_TWO,count:0},{x:6,y:5,type:c.SPIKES_ONE,count:0}],_=[{x:3,y:5,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:6,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:7,state:y.IDLE,type:c.BURST,direction:O.TOP}],E={x:0,y:7,direction:O.LEFT,state:y.IDLE,type:c.DOOR};t("default",{mapInfo:s,player:r,enemies:p,spikes:R,bursts:_,door:E});L._RF.pop()}}}));

System.register("chunks:///_virtual/AirDeathSubStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,a,i,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){a=t.DRIECTION_ENUM},function(t){i=t.IdleTurnStateMachie},function(t){s=t.State}],execute:function(){e._RF.push({},"a9a39IVSkZI2JffLv+5fVSs","AirDeathSubStateMachine",void 0);var c="texture/player/airdeath";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new s(e,c+"/top")),n.stateMachine.set(a.BOTTOM,new s(e,c+"/bottom")),n.stateMachine.set(a.LEFT,new s(e,c+"/left")),n.stateMachine.set(a.RIGHT,new s(e,c+"/right")),n}return n(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/State.ts",["cc","./index.ts","./_rollupPluginModLoBabelHelpers.js","./PlayerManager.ts","./ResourcesManager.ts"],(function(t){"use strict";var i,n,a,e,o,s,r,p,u,h;return{setters:[function(t){i=t.cclegacy,n=t.AnimationClip,a=t.animation,e=t.Sprite},function(t){o=t.sortspriteFrame},function(t){s=t.defineProperty,r=t.asyncToGenerator,p=t.createForOfIteratorHelperLoose},function(t){u=t.ANIMATION_SPEED},function(t){h=t.default}],execute:function(){i._RF.push({},"ac66b5B21BJJ4zc9rnaV4oF","State",void 0);t("State",function(){function t(t,i,a,e,o){void 0===a&&(a=n.WrapMode.Normal),void 0===e&&(e=u),void 0===o&&(o=[]),s(this,"animationClip",void 0),this.fsm=t,this.path=i,this.warpMode=a,this.speed=e,this.events=o,this.init()}var i=t.prototype;return i.init=function(){var t=r((function*(){var t=this,i=h.Instance.loaddir(this.path);this.fsm.waitingList.push(i),this.animationClip=new n,this.animationClip.name=this.path;var s=yield i,r=new a.ObjectTrack;r.path=(new a.TrackPath).toComponent(e).toProperty("spriteFrame");var l=o(s).map((function(i,n){return[t.speed*n,i]}));r.channel.curve.assignSorted(l),this.animationClip.addTrack(r),this.animationClip.duration=s.length*u,this.animationClip.wrapMode=this.warpMode;for(var c,m=p(this.events);!(c=m()).done;){var d=c.value;this.animationClip.events.push(d)}this.animationClip.updateEventDatas()}));return function(){return t.apply(this,arguments)}}(),i.run=function(){var t,i;(null===(t=this.fsm)||void 0===t||null===(i=t.animationComponent)||void 0===i?void 0:i.defaultClip)!==this.animationClip&&(this.fsm.animationComponent.defaultClip=this.animationClip,this.fsm.animationComponent.play())},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/MenuManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts"],(function(n){"use strict";var e,t,a,r,c,u;return{setters:[function(n){e=n.cclegacy,t=n._decorator,a=n.Component},function(n){r=n.inheritsLoose},function(n){c=n.EVENTMANAGER},function(n){u=n.default}],execute:function(){var i;e._RF.push({},"ae5776aNMlGha3EXba69FsJ","MenuManager",void 0);var o=t.ccclass;n("MenuManager",o("MenuManager")(i=function(n){function e(){return n.apply(this,arguments)||this}r(e,n);var t=e.prototype;return t.revoke=function(){u.Instance.emit(c.REVOKE_STEP)},t.restart=function(){u.Instance.emit(c.RESTART)},t.exit=function(){u.Instance.emit(c.EXIT)},e}(a))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesTwoSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){"use strict";var t,n,s,i,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.inheritsLoose},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.State},function(e){c=e.default}],execute:function(){t._RF.push({},"aec46pdkExHMbyuAa3rGT5d","SpikesTwoSubMachine",void 0);var u="texture/spikes/spikestwo";e("default",function(e){function t(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,u+"/zero")),n.stateMachine.set(s.ONE,new i(t,u+"/one")),n.stateMachine.set(s.TWO,new i(t,u+"/two")),n.stateMachine.set(s.THREE,new i(t,u+"/three")),n}return n(t,e),t}(c));t._RF.pop()}}}));

System.register("chunks:///_virtual/level8.ts",["cc","./index3.ts"],(function(l){"use strict";var t,e,n,s,y;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,n=l.DRIECTION_ENUM,s=l.ENTINY_STATE_ENUM,y=l.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"b062eem6qVFaai2hbLAR868","level8",void 0);var c=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:21,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],r={x:1,y:7,direction:n.TOP,state:s.IDLE,type:y.PLAYER},p=[{x:8,y:1,direction:n.LEFT,state:s.IDLE,type:y.WOODENSKELETON}],u=[{x:1,y:2,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:1,y:5,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:1,y:6,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:2,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:3,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:4,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:5,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:6,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:6,y:2,state:s.IDLE,type:y.BURST,direction:n.TOP}],L={x:9,y:1,direction:n.LEFT,state:s.IDLE,type:y.DOOR};l("default",{mapInfo:c,player:r,enemies:p,spikes:[],bursts:u,door:L});t._RF.pop()}}}));

System.register("chunks:///_virtual/IronskeletonDeathsubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,s,i,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){s=t.DRIECTION_ENUM},function(t){i=t.IdleTurnStateMachie},function(t){a=t.State}],execute:function(){e._RF.push({},"b88bckrjQ5KQZzPFmTDKb7I","IronskeletonDeathsubMachine",void 0);var c="texture/ironskeleton/death";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(s.TOP,new a(e,c+"/top")),n.stateMachine.set(s.BOTTOM,new a(e,c+"/bottom")),n.stateMachine.set(s.LEFT,new a(e,c+"/left")),n.stateMachine.set(s.RIGHT,new a(e,c+"/right")),n}return n(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/AttackSubStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./PlayerManager.ts","./State.ts"],(function(t){"use strict";var e,a,n,c,r,o,i,s;return{setters:[function(t){e=t.cclegacy,a=t.AnimationClip},function(t){n=t.inheritsLoose},function(t){c=t.DRIECTION_ENUM,r=t.SHAKE_DIRECTION_ENMU},function(t){o=t.IdleTurnStateMachie},function(t){i=t.ANIMATION_SPEED},function(t){s=t.State}],execute:function(){e._RF.push({},"b8d60H2YZ5IL5JjcC9kbckN","AttackSubStateMachine",void 0);var u="texture/player/attack";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new s(e,u+"/top",a.WrapMode.Normal,i,[{frame:4*i,func:"onAttackShake",params:[r.TOP]}])),n.stateMachine.set(c.BOTTOM,new s(e,u+"/bottom",a.WrapMode.Normal,i,[{frame:4*i,func:"onAttackShake",params:[r.BOTTOM]}])),n.stateMachine.set(c.LEFT,new s(e,u+"/left",a.WrapMode.Normal,i,[{frame:4*i,func:"onAttackShake",params:[r.LEFT]}])),n.stateMachine.set(c.RIGHT,new s(e,u+"/right",a.WrapMode.Normal,i,[{frame:4*i,func:"onAttackShake",params:[r.RIGHT]}])),n}return n(e,t),e}(o));e._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts"],(function(t){"use strict";var e,r,a,n,i,s,u,c,o;return{setters:[function(t){e=t.cclegacy,r=t._decorator,a=t.Component},function(t){n=t.inheritsLoose,i=t.defineProperty,s=t.assertThisInitialized,u=t.createForOfIteratorHelperLoose,c=t.createClass},function(t){o=t.FMS_PARAMS_ENUM}],execute:function(){var p;e._RF.push({},"b9130nM5gVABLpd7tZZ49wL","StateMachine",void 0);var h=r.ccclass;r.property,t("GetParamsTrigger",(function(){return{type:o.TRIGER,value:!1}})),t("GetParamsNUmber",(function(){return{type:o.NUMBER,value:0}})),t("StateMachine",h("StateMachine")(p=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,i(s(e),"_currentState",null),i(s(e),"animationComponent",void 0),i(s(e),"waitingList",[]),i(s(e),"param",new Map),i(s(e),"stateMachine",new Map),e}n(e,t);var r=e.prototype;return r.getParams=function(t){if(this.param.has(t))return this.param.get(t).value},r.setParams=function(t,e){this.param.has(t)&&(this.param.get(t).value=e,this.run(),this.reseTrigger())},r.reseTrigger=function(){for(var t,e=u(this.param);!(t=e()).done;){var r=t.value[1];r.type===o.TRIGER&&(r.value=!1)}},c(e,[{key:"currentState",get:function(){return this._currentState},set:function(t){t&&(this._currentState=t,this._currentState.run())}}]),e}(a))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/level7.ts",["cc","./index3.ts"],(function(L){"use strict";var O,t,e,c,s;return{setters:[function(L){O=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,e=L.DRIECTION_ENUM,c=L.ENTINY_STATE_ENUM,s=L.ENTITY_TYPE_ENUM}],execute:function(){O._RF.push({},"c2da0lA129I9q5+G3ivfkE8","level7",void 0);var y=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:21,type:t.WALL_RIGHT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],r={x:2,y:7,direction:e.TOP,state:c.IDLE,type:s.PLAYER},p=[{x:2,y:2,direction:e.BOTTOM,state:c.IDLE,type:s.WOODENSKELETON}],_=[{x:1,y:4,type:s.SPIKES_ONE,count:0},{x:2,y:4,type:s.SPIKES_TWO,count:0},{x:3,y:4,type:s.SPIKES_TWO,count:0},{x:4,y:4,type:s.SPIKES_THREE,count:0}],T={x:2,y:0,direction:e.BOTTOM,state:c.IDLE,type:s.DOOR};L("default",{mapInfo:y,player:r,enemies:p,spikes:_,bursts:[],door:T});O._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EnityManger.ts","./StateMachine.ts","./AirDeathSubStateMachine.ts","./AttackDeathSubStateMachine.ts","./AttackSubStateMachine.ts","./BlockblackStateMachine.ts","./BlockfrontStateMachine.ts","./BlockturnleftStateMachine.ts","./BlockturnrightStateMachine.ts","./IdleLeftStateMachine.ts","./TurnRightStateMachine.ts","./TurnLeftStateMachine.ts"],(function(t){"use strict";var e,a,i,s,n,h,c,r,u,T,o,M,l,R,L,f,p,m,E,g,A;return{setters:[function(t){e=t.cclegacy,a=t._decorator,i=t.Animation},function(t){s=t.inheritsLoose,n=t.asyncToGenerator},function(t){h=t.ENTINY_STATE_ENUM,c=t.PARAMS_NAME_ENUM},function(t){r=t.EnityManger},function(t){u=t.GetParamsTrigger,T=t.GetParamsNUmber,o=t.StateMachine},function(t){M=t.default},function(t){l=t.default},function(t){R=t.default},function(t){L=t.default},function(t){f=t.default},function(t){p=t.default},function(t){m=t.default},function(t){E=t.default},function(t){g=t.default},function(t){A=t.default}],execute:function(){var C;e._RF.push({},"c8c892IvtRNr6MlZEAs7RQr","PlayerStateMachine",void 0);var S=a.ccclass;a.property,t("PlayerStateMachine",S("PlayerStateMachine")(C=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var a=e.prototype;return a.init=function(){var t=n((function*(){this.animationComponent=this.addComponent(i),this.initParams(),this.initStateMachine(),this.initEventMachine(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),a.initEventMachine=function(){var t=this;this.animationComponent.on(i.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["block","turn","attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(r).state=h.IDLE)}))},a.initParams=function(){this.param.set(c.IDLE,u()),this.param.set(c.TURN_LEFT,u()),this.param.set(c.TURN_RIGHT,u()),this.param.set(c.DRIECTION,T()),this.param.set(c.BLOCKFRONT,u()),this.param.set(c.BLOCKTURNLEFT,u()),this.param.set(c.BLOCKBACK,u()),this.param.set(c.BLOCKLEFT,u()),this.param.set(c.BLOCKRIGHT,u()),this.param.set(c.BLOCKTURNLEFT,u()),this.param.set(c.DEATH,u()),this.param.set(c.ATTACK,u()),this.param.set(c.AIRDEATH,u()),this.param.set(c.BLOCKTURNRIGHT,u())},a.initStateMachine=function(){this.stateMachine.set(c.IDLE,new E(this)),this.stateMachine.set(c.TURN_LEFT,new A(this)),this.stateMachine.set(c.TURN_RIGHT,new g(this)),this.stateMachine.set(c.BLOCKFRONT,new f(this)),this.stateMachine.set(c.BLOCKBACK,new L(this)),this.stateMachine.set(c.BLOCKTURNLEFT,new p(this)),this.stateMachine.set(c.DEATH,new l(this)),this.stateMachine.set(c.AIRDEATH,new M(this)),this.stateMachine.set(c.BLOCKTURNRIGHT,new m(this)),this.stateMachine.set(c.ATTACK,new R(this))},a.run=function(){switch(this.currentState){case this.stateMachine.get(c.TURN_LEFT):case this.stateMachine.get(c.DEATH):case this.stateMachine.get(c.ATTACK):case this.stateMachine.get(c.AIRDEATH):case this.stateMachine.get(c.TURN_RIGHT):case this.stateMachine.get(c.BLOCKFRONT):case this.stateMachine.get(c.BLOCKBACK):case this.stateMachine.get(c.BLOCKTURNLEFT):case this.stateMachine.get(c.IDLE):this.param.get(c.TURN_LEFT).value?this.currentState=this.stateMachine.get(c.TURN_LEFT):this.param.get(c.TURN_RIGHT).value?this.currentState=this.stateMachine.get(c.TURN_RIGHT):this.param.get(c.BLOCKTURNLEFT).value?this.currentState=this.stateMachine.get(c.BLOCKTURNLEFT):this.param.get(c.BLOCKTURNRIGHT).value?this.currentState=this.stateMachine.get(c.BLOCKTURNRIGHT):this.param.get(c.DEATH).value?this.currentState=this.stateMachine.get(c.DEATH):this.param.get(c.AIRDEATH).value?this.currentState=this.stateMachine.get(c.AIRDEATH):this.param.get(c.BLOCKFRONT).value?this.currentState=this.stateMachine.get(c.BLOCKFRONT):this.param.get(c.BLOCKBACK).value?this.currentState=this.stateMachine.get(c.BLOCKBACK):this.param.get(c.IDLE).value?this.currentState=this.stateMachine.get(c.IDLE):this.param.get(c.ATTACK).value?this.currentState=this.stateMachine.get(c.ATTACK):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(c.IDLE)}},e}(o))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/level11.ts",["cc","./index3.ts"],(function(t){"use strict";var e,L,O,y,c;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,O=t.DRIECTION_ENUM,y=t.ENTINY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"cfce4+xvvhAm4/QDMfe+IHR","level11",void 0);var s=[[{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:22,type:L.WALL_RIGHT_TOP},{src:13,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:24,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:22,type:L.WALL_RIGHT_TOP},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:24,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:15,type:L.WALL_RIGHT_TOP},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:22,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}]],r={x:0,y:3,direction:O.RIGHT,state:y.IDLE,type:c.PLAYER},p=[{x:4,y:2,direction:O.LEFT,state:y.IDLE,type:c.WOODENSKELETON},{x:6,y:1,direction:O.LEFT,state:y.IDLE,type:c.WOODENSKELETON},{x:9,y:1,direction:O.LEFT,state:y.IDLE,type:c.WOODENSKELETON}],R=[{x:4,y:1,type:c.SPIKES_THREE,count:0},{x:6,y:3,type:c.SPIKES_TWO,count:0}],_=[{x:3,y:3,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:5,y:2,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:3,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP}],T={x:9,y:0,direction:O.BOTTOM,state:y.IDLE,type:c.DOOR};t("default",{mapInfo:s,player:r,enemies:p,spikes:R,bursts:_,door:T});e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Singleton.ts"],(function(e){"use strict";var t,n,r,o,u,s;return{setters:[function(e){t=e.cclegacy,n=e.resources,r=e.SpriteFrame},function(e){o=e.inheritsLoose,u=e.createClass},function(e){s=e.default}],execute:function(){t._RF.push({},"d10b3IMtnpGmbMoqL/zTVl9","ResourcesManager",void 0);e("default",function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.loaddir=function(e,t){return void 0===t&&(t=r),new Promise((function(r,o){n.loadDir(e,t,(function(e,t){e?o(e):r(t)}))}))},u(t,null,[{key:"Instance",get:function(){return e.GetInstance.call(this)}}]),t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./SubStateMachine.ts"],(function(t){"use strict";var e,n,i,u,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){i=t.PARAMS_NAME_ENUM,u=t.SPIKES_COUNT_MAP_NUMBER_ENUM},function(t){s=t.default}],execute:function(){e._RF.push({},"d40cf7+LD9BU719J4Rs/1+d","SpikesSubMachine",void 0);t("default",function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.run=function(){var t=this.fsm.param.get(i.SPIKES_CUR_COUNT).value;this.currentState=this.stateMachine.get(u[t])},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./Singleton.ts"],(function(t){"use strict";var e,n,i,c,r,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose,i=t.createClass,c=t.defineProperty,r=t.assertThisInitialized},function(t){s=t.default}],execute:function(){e._RF.push({},"d4410nfygxPDqQYzWEhAoRA","EventManager",void 0);t("default",function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,c(r(e),"eventDic",new Map),e}n(e,t);var s=e.prototype;return s.on=function(t,e,n){this.eventDic.has(t)?this.eventDic.get(t).push({func:e,ctx:n}):this.eventDic.set(t,[{func:e,ctx:n}])},s.off=function(t,e){if(this.eventDic.has(t)){var n=this.eventDic.get(t).findIndex((function(t){return t.func===e}));n>-1&&this.eventDic.get(t).splice(n,1)}},s.emit=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.eventDic.has(t)&&this.eventDic.get(t).forEach((function(t){var e=t.func,i=t.ctx;i?e.apply(i,n):e(n)}))},s.clear=function(){this.eventDic.clear()},i(e,null,[{key:"Instance",get:function(){return t.GetInstance.call(this)}}]),e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/BurstMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./StateMachine.ts","./State.ts"],(function(t){"use strict";var e,i,a,n,s,r,c,h,u,o;return{setters:[function(t){e=t.cclegacy,i=t._decorator,a=t.Animation},function(t){n=t.inheritsLoose,s=t.asyncToGenerator},function(t){r=t.PARAMS_NAME_ENUM},function(t){c=t.GetParamsTrigger,h=t.GetParamsNUmber,u=t.StateMachine},function(t){o=t.State}],execute:function(){var M;e._RF.push({},"d6b07EOUb9F9LURQr9MbWC5","BurstMachine",void 0);var p=i.ccclass,A=(i.property,"texture/burst");t("BurstMachine",p("BurstMachine")(M=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.init=function(){var t=s((function*(){this.animationComponent=this.node.addComponent(a),this.initParams(),this.initStateMachine(),this.initEventMachine(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),i.initEventMachine=function(){},i.initParams=function(){this.param.set(r.IDLE,c()),this.param.set(r.DRIECTION,h()),this.param.set(r.ATTACK,c()),this.param.set(r.DEATH,c())},i.initStateMachine=function(){this.stateMachine.set(r.IDLE,new o(this,A+"/idle")),this.stateMachine.set(r.ATTACK,new o(this,A+"/attack")),this.stateMachine.set(r.DEATH,new o(this,A+"/death"))},i.run=function(){switch(this.currentState){case this.stateMachine.get(r.IDLE):case this.stateMachine.get(r.DEATH):case this.stateMachine.get(r.ATTACK):this.param.get(r.ATTACK).value?this.currentState=this.stateMachine.get(r.ATTACK):this.param.get(r.IDLE).value?this.currentState=this.stateMachine.get(r.IDLE):this.param.get(r.DEATH).value?this.currentState=this.stateMachine.get(r.DEATH):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(r.IDLE)}},e}(u))||M);e._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EnityManger.ts","./StateMachine.ts","./AttackSubStateMachines.ts","./DeathSubStateMachines.ts","./IdleSubStateMachines.ts"],(function(t){"use strict";var e,n,i,a,s,c,o,r,h,u,M,l,S,p;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Animation},function(t){a=t.inheritsLoose,s=t.asyncToGenerator},function(t){c=t.ENTINY_STATE_ENUM,o=t.PARAMS_NAME_ENUM},function(t){r=t.EnityManger},function(t){h=t.GetParamsTrigger,u=t.GetParamsNUmber,M=t.StateMachine},function(t){l=t.default},function(t){S=t.default},function(t){p=t.default}],execute:function(){var f;e._RF.push({},"da52d/AWolMwancqN1oVRW7","WoodenSkeletonSubMachine",void 0);var m=n.ccclass;n.property,t("WoodenSkeletonSubMachine",m("WoodenSkeletonSubMachine")(f=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.init=function(){var t=s((function*(){this.animationComponent=this.node.addComponent(i),this.initParams(),this.initStateMachine(),this.initEventMachine(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),n.initEventMachine=function(){var t=this;this.animationComponent.on(i.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(r).state=c.IDLE)}))},n.initParams=function(){this.param.set(o.IDLE,h()),this.param.set(o.DRIECTION,u()),this.param.set(o.ATTACK,h()),this.param.set(o.DEATH,h())},n.initStateMachine=function(){this.stateMachine.set(o.IDLE,new p(this)),this.stateMachine.set(o.ATTACK,new l(this)),this.stateMachine.set(o.DEATH,new S(this))},n.run=function(){switch(this.currentState){case this.stateMachine.get(o.IDLE):case this.stateMachine.get(o.DEATH):case this.stateMachine.get(o.ATTACK):this.param.get(o.ATTACK).value?this.currentState=this.stateMachine.get(o.ATTACK):this.param.get(o.IDLE).value?this.currentState=this.stateMachine.get(o.IDLE):this.param.get(o.DEATH).value?this.currentState=this.stateMachine.get(o.DEATH):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(o.IDLE)}},e}(M))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/TurnRightStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,i,a,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){i=t.DRIECTION_ENUM},function(t){a=t.IdleTurnStateMachie},function(t){s=t.State}],execute:function(){e._RF.push({},"da875Qy+T1On6sBakdOwbbk","TurnRightStateMachine",void 0);var c="texture/player/turnright";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new s(e,c+"/top")),n.stateMachine.set(i.BOTTOM,new s(e,c+"/bottom")),n.stateMachine.set(i.LEFT,new s(e,c+"/left")),n.stateMachine.set(i.RIGHT,new s(e,c+"/right")),n}return n(e,t),e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/EnityManger.ts",["cc","./index.ts","./_rollupPluginModLoBabelHelpers.js","./index3.ts"],(function(t){"use strict";var i,n,e,s,o,r,c,a,d,u,h,l;return{setters:[function(t){i=t.cclegacy,n=t._decorator,e=t.Sprite,s=t.UITransform,o=t.Component},function(t){r=t.randombyLength},function(t){c=t.inheritsLoose,a=t.defineProperty,d=t.assertThisInitialized,u=t.createClass},function(t){h=t.PARAMS_NAME_ENUM,l=t.DIRECTION_ORDER_ENUM}],execute:function(){var f;i._RF.push({},"dbdc5sA0RpK2a6Ttut+rXPH","EnityManger",void 0);var y=n.ccclass,p=(n.property,t("TILE_HEIGHT",55)),_=t("TILE_WIDTH",55);t("ANIMATION_SPEED",1/8),t("EnityManger",y("EnityManger")(f=function(t){function i(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return i=t.call.apply(t,[this].concat(e))||this,a(d(i),"id",r(12)),a(d(i),"x",void 0),a(d(i),"y",void 0),a(d(i),"fsm",void 0),a(d(i),"_direction",void 0),a(d(i),"_state",void 0),a(d(i),"type",void 0),a(d(i),"transfrom",void 0),i}c(i,t);var n=i.prototype;return n.init=function(t){this.node.addComponent(e).sizeMode=e.SizeMode.CUSTOM,this.transfrom=this.getComponent(s),this.transfrom.setContentSize(4*_,4*p),this.x=t.x,this.y=t.y,this.direction=t.direction,this.state=t.state},n.update=function(){this.node.setPosition(this.x*_,-this.y*p)},n.onDestroy=function(){},u(i,[{key:"state",get:function(){return this._state},set:function(t){this._state=t;try{var i;null==this||null===(i=this.fsm)||void 0===i||i.setParams(t,!0)}catch(t){console.log(this)}}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t;try{var i;null==this||null===(i=this.fsm)||void 0===i||i.setParams(h.DRIECTION,l[this._direction])}catch(t){console.log(this)}}}]),i}(o))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/level5.ts",["cc","./index3.ts"],(function(e){"use strict";var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DRIECTION_ENUM,c=e.ENTINY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"dd6febwuWVLsrFTUjW7cJyI","level5",void 0);var y=[[{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:21,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:21,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT}]],p={x:1,y:3,direction:s.TOP,state:c.IDLE,type:r.PLAYER},E=[{x:5,y:1,direction:s.LEFT,state:c.IDLE,type:r.WOODENSKELETON}],F={x:6,y:1,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:y,player:p,enemies:E,spikes:[],bursts:[],door:F});t._RF.pop()}}}));

System.register("chunks:///_virtual/level1.ts",["cc","./index3.ts"],(function(L){"use strict";var O,e,t,s,c;return{setters:[function(L){O=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,t=L.DRIECTION_ENUM,s=L.ENTINY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){O._RF.push({},"df6847cJUlCK6xZdZvzGMc6","level1",void 0);var r=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:2,y:8,direction:t.TOP,state:s.IDLE,type:c.PLAYER},y=[{x:7,y:6,direction:t.TOP,state:s.IDLE,type:c.WOODENSKELETON}],_={x:7,y:8,direction:t.BOTTOM,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:_});O._RF.pop()}}}));

System.register("chunks:///_virtual/DrawManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,i,s,n,a,o,r,h,c,l,u,d;return{setters:[function(t){e=t.cclegacy,i=t._decorator,s=t.Graphics,n=t.BlockInputEvents,a=t.UITransform,o=t.Color,r=t.find,h=t.game,c=t.Component},function(t){l=t.inheritsLoose,u=t.defineProperty,d=t.assertThisInitialized}],execute:function(){var f;e._RF.push({},"e1cf3TKSBZOtYo+2w2WsjU9","DrawManager",void 0);var p,v=i.ccclass,m=t("DURATION",800);!function(t){t.IDLE="IDLE",t.FADE_IN="FADE_IN",t.FADE_OUT="FADE_OUT"}(p||(p={}));t("DrawManager",v("DrawManager")(f=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,u(d(e),"ctx",void 0),u(d(e),"state",p.IDLE),u(d(e),"totalTime",0),u(d(e),"drution",0),u(d(e),"ca",void 0),u(d(e),"fadeResolve",void 0),u(d(e),"block",void 0),e}l(e,t);var i=e.prototype;return i.init=function(){this.ctx=this.addComponent(s),this.ca=this.findCanvas(),this.block=this.addComponent(n);var t=this.getComponent(a);t.setAnchorPoint(.5,.5),t.setContentSize(this.ca.getComponent(a).width,this.ca.getComponent(a).height),this.setAlpa(1)},i.setAlpa=function(t){this.ctx.clear(),this.ca=this.findCanvas(),this.ctx.rect(0,0,this.ca.getComponent(a).width,this.ca.getComponent(a).height),this.ctx.fillColor=new o(0,0,0,255*t),this.ctx.fill(),this.block.enabled=1===t},i.findCanvas=function(){if(null!==this.ca)return r("/Canvas")},i.update=function(){var t=(h.totalTime-this.totalTime)/this.drution;switch(this.state){case p.FADE_IN:t<1?this.setAlpa(t):(this.setAlpa(1),this.state=p.IDLE,this.fadeResolve(null));break;case p.FADE_OUT:t<1?this.setAlpa(1-t):(this.setAlpa(0),this.fadeResolve(null),this.state=p.IDLE)}},i.fadeIn=function(t){var e=this;return void 0===t&&(t=m),this.setAlpa(1),this.drution=t,this.state=p.FADE_IN,this.totalTime=h.totalTime,new Promise((function(t){e.fadeResolve=t}))},i.fadeOut=function(t){var e=this;return void 0===t&&(t=m),this.setAlpa(0),this.drution=t,this.state=p.FADE_OUT,this.totalTime=h.totalTime,new Promise((function(t){e.fadeResolve=t}))},i.mask=function(){var t=this;return this.setAlpa(1),new Promise((function(e){setTimeout(e,t.drution)}))},e}(c))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/TlieMapManager.ts",["cc","./index.ts","./_rollupPluginModLoBabelHelpers.js","./DataManager.ts","./ResourcesManager.ts","./TileManager.ts"],(function(n){"use strict";var e,t,a,r,i,o,c,u,s,l;return{setters:[function(n){e=n.cclegacy,t=n._decorator,a=n.Component},function(n){r=n.creatUINode,i=n.RandomNumer},function(n){o=n.inheritsLoose,c=n.asyncToGenerator},function(n){u=n.default},function(n){s=n.default},function(n){l=n.TlieManager}],execute:function(){var f;e._RF.push({},"e207c2O4mxN4JFIIGBDUq4c","TlieMapManager",void 0);var p=t.ccclass;n("TlieMapManager",p("TlieMapManager")(f=function(n){function e(){return n.apply(this,arguments)||this}return o(e,n),e.prototype.init=function(){var n=c((function*(){var n=this,e=u.Instance.mapInfo,t=yield s.Instance.loaddir("texture/tile/tile/");u.Instance.tileInfo=[];for(var a=0;a<e.length;a++){var o=e[a];u.Instance.tileInfo[a]=[];for(var c=function(e){var c=o[e];if(null===c.src||null===c.type)return"continue";var s=r(),f=c.src;1!==f&&5!==f&&9!==f||a%2!=0||e%2!=0||(f+=i(0,4));var p="tile ("+f+")",d=t.find((function(n){return n.name===p}))||t[0],g=s.addComponent(l),v=c.type;g.init(v,d,a,e),u.Instance.tileInfo[a][e]=g,s.setParent(n.node)},f=0;f<o.length;f++)c(f)}}));return function(){return n.apply(this,arguments)}}(),e}(a))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/level12.ts",["cc","./index3.ts"],(function(e){"use strict";var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DRIECTION_ENUM,c=e.ENTINY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"ed967RPEptCF4H3PEcerKI5","level12",void 0);var y=[[{src:20,type:L.WALL_LEFT_TOP},{src:1,type:L.FLOOR},{src:18,type:L.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_ROW},{src:23,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}]],p={x:3,y:5,direction:s.TOP,state:c.IDLE,type:r.PLAYER},O=[{x:1,y:1,direction:s.BOTTOM,state:c.IDLE,type:r.IRONSKELETON},{x:6,y:2,direction:s.LEFT,state:c.IDLE,type:r.WOODENSKELETON}],E=[{x:4,y:2,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:4,y:3,state:c.IDLE,type:r.BURST,direction:s.TOP}],F={x:0,y:1,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:y,player:p,enemies:O,spikes:[],bursts:E,door:F});t._RF.pop()}}}));

System.register("chunks:///_virtual/level13.ts",["cc","./index3.ts"],(function(e){"use strict";var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DRIECTION_ENUM,c=e.ENTINY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"edac2Msxs5OQ69lv8eKDbIm","level13",void 0);var l=[[{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_RIGHT_TOP},{src:14,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],y={x:10,y:1,direction:s.LEFT,state:c.IDLE,type:r.PLAYER},p=[{x:1,y:4,direction:s.RIGHT,state:c.IDLE,type:r.WOODENSKELETON},{x:3,y:2,direction:s.RIGHT,state:c.IDLE,type:r.IRONSKELETON},{x:5,y:1,direction:s.RIGHT,state:c.IDLE,type:r.WOODENSKELETON}],O=[{x:1,y:1,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:5,y:2,state:c.IDLE,type:r.BURST,direction:s.TOP}],n={x:1,y:6,direction:s.BOTTOM,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:l,player:y,enemies:p,spikes:[],bursts:O,door:n});t._RF.pop()}}}));

System.register("chunks:///_virtual/level21.ts",["cc","./index3.ts"],(function(t){"use strict";var e,L,s,c,r;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,s=t.DRIECTION_ENUM,c=t.ENTINY_STATE_ENUM,r=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"ee368Y/fchKs6LoCbJ3dtQS","level21",void 0);var O=[[{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:18,type:L.CLIFF_LEFT}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:13,type:L.WALL_LEFT_BOTTOM},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:13,type:L.WALL_LEFT_BOTTOM},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:21,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}],[{src:20,type:L.WALL_LEFT_TOP},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],y={x:0,y:7,direction:s.TOP,state:c.IDLE,type:r.PLAYER},p=[{x:2,y:6,direction:s.LEFT,state:c.IDLE,type:r.WOODENSKELETON}],R=[{x:2,y:3,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:2,y:5,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:3,y:3,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:3,y:4,state:c.IDLE,type:r.BURST,direction:s.TOP}],F={x:7,y:6,direction:s.LEFT,state:c.IDLE,type:r.DOOR};t("default",{mapInfo:O,player:y,enemies:p,spikes:[],bursts:R,door:F});e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EventManager.ts","./EnityManger.ts","./PlayerStateMachine.ts","./DataManager.ts","./MusicManager.ts"],(function(t){"use strict";var i,e,r,n,s,a,o,u,T,l,h,v,f,O,d,L;return{setters:[function(t){i=t.cclegacy,e=t._decorator},function(t){r=t.inheritsLoose,n=t.defineProperty,s=t.assertThisInitialized,a=t.asyncToGenerator},function(t){o=t.EVENTMANAGER,u=t.ENTINY_STATE_ENUM,T=t.CONTROLLER_ENMU,l=t.SHAKE_DIRECTION_ENMU,h=t.DRIECTION_ENUM},function(t){v=t.default},function(t){f=t.EnityManger},function(t){O=t.PlayerStateMachine},function(t){d=t.default},function(t){L=t.default}],execute:function(){var c;i._RF.push({},"f53adYigDhI3bbjulOae/Qf","PlayerManager",void 0);var E=e.ccclass;e.property,t("TILE_HEIGHT",55),t("TILE_WIDTH",55),t("ANIMATION_SPEED",1/8),t("PlayerManager",E("PlayerManager")(c=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(s(i),"speeed",.1),n(s(i),"isMoveing",!1),n(s(i),"targetX",void 0),n(s(i),"targetY",void 0),n(s(i),"clip",[]),i}r(i,t);var e=i.prototype;return e.init=function(){var i=a((function*(i){this.fsm=this.addComponent(O),yield this.fsm.init(),t.prototype.init.call(this,i),this.targetX=this.x,this.targetY=this.y,v.Instance.on(o.PLAYER_CONTROLLER,this.inputhandler,this),v.Instance.on(o.ATTACK_PLAYER,this.Dead,this)}));return function(t){return i.apply(this,arguments)}}(),e.onDestroy=function(){t.prototype.onDestroy.call(this),v.Instance.off(o.PLAYER_CONTROLLER,this.inputhandler),v.Instance.off(o.ATTACK_PLAYER,this.Dead)},e.onAttackShake=function(t){v.Instance.emit(o.SHAKE_SHOW,t)},e.update=function(){t.prototype.update.call(this),this.updateXY()},e.updateXY=function(){this.x<this.targetX?this.x+=this.speeed:this.x>this.targetX&&(this.x-=this.speeed),this.y<this.targetY?this.y+=this.speeed:this.y>this.targetY&&(this.y-=this.speeed),Math.abs(this.x-this.targetX)<=.01&&Math.abs(this.y-this.targetY)<=.01&&!0===this.isMoveing&&(this.x=this.targetX,this.y=this.targetY,this.isMoveing=!1,v.Instance.emit(o.PLAYERMOVE_END))},e.inputhandler=function(t,i){if(this.clip=i,this.state!==u.AIRDEATH&&this.state!==u.DEATH&&this.state!==u.ATTACK&&!this.isMoveing){var e=this.willAttack(t);if(e)return v.Instance.emit(o.RECORD_STEP),v.Instance.emit(o.ATTACK_ENEMY,e),v.Instance.emit(o.DOOR_OPEN),v.Instance.emit(o.PLAYERMOVE_END),void L.Instance.sound(i[1]);if(this.willblock(t))return t===T.TOP?v.Instance.emit(o.SHAKE_SHOW,l.TOP):t===T.BOTTOM?v.Instance.emit(o.SHAKE_SHOW,l.BOTTOM):t===T.LEFT?v.Instance.emit(o.SHAKE_SHOW,l.LEFT):t===T.RIGHT?v.Instance.emit(o.SHAKE_SHOW,l.RIGHT):t===T.TURN_LEFT&&this.direction===h.TOP?v.Instance.emit(o.SHAKE_SHOW,l.LEFT):t===T.TURN_LEFT&&this.direction===h.LEFT?v.Instance.emit(o.SHAKE_SHOW,l.BOTTOM):t===T.TURN_LEFT&&this.direction===h.BOTTOM?v.Instance.emit(o.SHAKE_SHOW,l.RIGHT):t===T.TURN_LEFT&&this.direction===h.RIGHT?v.Instance.emit(o.SHAKE_SHOW,l.TOP):t===T.TURN_RIGHT&&this.direction===h.TOP?v.Instance.emit(o.SHAKE_SHOW,l.RIGHT):t===T.TURN_RIGHT&&this.direction===h.LEFT?v.Instance.emit(o.SHAKE_SHOW,l.TOP):t===T.TURN_RIGHT&&this.direction===h.BOTTOM?v.Instance.emit(o.SHAKE_SHOW,l.LEFT):t===T.TURN_RIGHT&&this.direction===h.RIGHT&&v.Instance.emit(o.SHAKE_SHOW,l.BOTTOM),void L.Instance.sound(i[2]);this.move(t),L.Instance.sound(i[0])}},e.Dead=function(t,i){this.state=t,L.Instance.sound(this.clip[3])},e.move=function(t){switch(v.Instance.emit(o.RECORD_STEP),t){case T.TOP:this.targetY-=1,this.isMoveing=!0,this.showsmoke(h.TOP);break;case T.BOTTOM:this.targetY+=1,this.isMoveing=!0,this.showsmoke(h.BOTTOM);break;case T.LEFT:this.targetX-=1,this.isMoveing=!0,this.showsmoke(h.LEFT);break;case T.RIGHT:this.targetX+=1,this.isMoveing=!0,this.showsmoke(h.RIGHT);break;case T.TURN_LEFT:this.state=u.TURN_LEFT,this.direction===h.TOP?this.direction=h.LEFT:this.direction===h.LEFT?this.direction=h.BOTTOM:this.direction===h.BOTTOM?this.direction=h.RIGHT:this.direction===h.RIGHT&&(this.direction=h.TOP),v.Instance.emit(o.PLAYERMOVE_END);break;case T.TURN_RIGHT:this.direction===h.LEFT?this.direction=h.TOP:this.direction===h.RIGHT?this.direction=h.BOTTOM:this.direction===h.BOTTOM?this.direction=h.LEFT:this.direction===h.TOP&&(this.direction=h.RIGHT),this.state=u.TURN_RIGHT,v.Instance.emit(o.PLAYERMOVE_END)}},e.willblock=function(t){var i=this.targetX,e=this.targetY,r=this.direction,n=d.Instance.tileInfo,s=d.Instance,a=s.mapRowCount,o=s.mapColumnCount,l=d.Instance.door||{},v=l.x,f=l.y,O=l.state,L=d.Instance.burst.filter((function(t){return t.state!==u.DEATH})),c=d.Instance.enemes.filter((function(t){return t.state!==u.DEATH}));if(t===T.TOP){var E=e-1;if(r===h.TOP){var R,K;if(E<0)return this.state=u.BLOCKFRONT,!0;var B=e-2,C=null===(R=n[i])||void 0===R?void 0:R[E],H=null===(K=n[i])||void 0===K?void 0:K[B];if((E===f&&v===i||v===i&&B===f)&&O!==u.DEATH)return this.state=u.BLOCKFRONT,!0;for(var I=0;I<c.length;I++){var A=c[I],m=A.x,F=A.y;if(E===F&&m===i||m===i&&B===F)return this.state=u.BLOCKFRONT,!0}if(L.some((function(t){return t.x===i&&t.y===E}))&&(!H||H.turnable))return!1;if(!C||!C.moveable||H&&!H.turnable)return this.state=u.BLOCKFRONT,!0}else if(r===h.BOTTOM){var b,y;if(E<0)return this.state=u.BLOCKBACK,!0;var g=e,N=null===(b=n[i])||void 0===b?void 0:b[E],M=null===(y=n[i])||void 0===y?void 0:y[g];if((E===f&&v===i||v===i&&g===f)&&O!==u.DEATH)return this.state=u.BLOCKBACK,!0;for(var _=0;_<c.length;_++){var G=c[_],x=G.x,D=G.y;if(E===D&&x===i)return this.state=u.BLOCKBACK,!0}if(L.some((function(t){return t.x===i&&t.y===E}))&&(!M||M.turnable))return!1;if(!N||!N.moveable||M&&!M.turnable)return this.state=u.BLOCKBACK,!0}else if(r===h.LEFT){var P,p;if(E<0)return this.state=u.BLOCKLEFT,!0;var S=i-1,U=e-1,Y=null===(P=n[i])||void 0===P?void 0:P[E],k=null===(p=n[S])||void 0===p?void 0:p[U];if((E===f&&v===i||v===S&&U===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var W=0;W<c.length;W++){var w=c[W],X=w.x,V=w.y;if(E===V&&X===i||U===V&&X===S)return this.state=u.BLOCKLEFT,!0}if(L.some((function(t){return t.x===i&&t.y===E}))&&(!k||k.turnable))return!1;if(!Y||!Y.moveable||k&&!k.turnable)return this.state=u.BLOCKRIGHT,!0}else if(r===h.RIGHT){var j,z;if(E<0)return this.state=u.BLOCKRIGHT,!0;var Q=i+1,q=e-1,J=null===(j=n[i])||void 0===j?void 0:j[E],Z=null===(z=n[Q])||void 0===z?void 0:z[q];if((E===f&&v===i||v===Q&&q===f)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var $=0;$<c.length;$++){var tt=c[$],it=tt.x,et=tt.y;if(E===et&&it===i||q===et&&it===Q)return this.state=u.BLOCKRIGHT,!0}if(L.some((function(t){return t.x===i&&t.y===E}))&&(!Z||Z.turnable))return!1;if(!J||!J.moveable||Z&&!Z.turnable)return this.state=u.BLOCKLEFT,!0}}else if(t===T.BOTTOM){var rt=e+1;if(r===h.TOP){var nt,st;if(rt>o-1)return this.state=u.BLOCKBACK,!0;var at=e,ot=null===(nt=n[i])||void 0===nt?void 0:nt[rt],ut=null===(st=n[i])||void 0===st?void 0:st[at];if((rt===f&&v===i||v===i&&at===f)&&O!==u.DEATH)return this.state=u.BLOCKBACK,!0;for(var Tt=0;Tt<c.length;Tt++){var lt=c[Tt],ht=lt.x,vt=lt.y;if(rt===vt&&ht===i)return this.state=u.BLOCKBACK,!0}if(L.some((function(t){return t.x===i&&t.y===rt}))&&(!ut||ut.turnable))return!1;if(!ot||!ot.moveable||ut&&!ut.turnable)return this.state=u.BLOCKBACK,!0}else if(r===h.BOTTOM){var ft,Ot;if(rt>o-1)return this.state=u.BLOCKFRONT,!0;var dt=e+2,Lt=null===(ft=n[i])||void 0===ft?void 0:ft[rt],ct=null===(Ot=n[i])||void 0===Ot?void 0:Ot[dt];if((rt===f&&v===i||v===i&&dt===f)&&O!==u.DEATH)return this.state=u.BLOCKFRONT,!0;for(var Et=0;Et<c.length;Et++){var Rt=c[Et],Kt=Rt.x,Bt=Rt.y;if(rt===Bt&&Kt===i||Kt===i&&dt===Bt)return this.state=u.BLOCKFRONT,!0}if(L.some((function(t){return t.x===i&&t.y===rt}))&&(!ct||ct.turnable))return!1;if(!Lt||!Lt.moveable||ct&&!ct.turnable)return this.state=u.BLOCKFRONT,!0}else if(r===h.LEFT){var Ct,Ht;if(rt>o-1)return this.state=u.BLOCKLEFT,!0;var It=i-1,At=e+1,mt=null===(Ct=n[i])||void 0===Ct?void 0:Ct[rt],Ft=null===(Ht=n[It])||void 0===Ht?void 0:Ht[At];if((rt===f&&v===i||v===It&&At===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var bt=0;bt<c.length;bt++){var yt=c[bt],gt=yt.x,Nt=yt.y;if(rt===Nt&&gt===i||gt===It&&Nt===At)return this.state=u.BLOCKLEFT,!0}if(!mt||!mt.moveable||Ft&&!Ft.turnable)return this.state=u.BLOCKLEFT,!0;if(L.some((function(t){return t.x===i&&t.y===rt}))&&(!Ft||Ft.turnable))return!1}else if(r===h.RIGHT){var Mt,_t;if(rt>o-1)return this.state=u.BLOCKRIGHT,!0;var Gt=i+1,xt=e+1,Dt=null===(Mt=n[i])||void 0===Mt?void 0:Mt[rt],Pt=null===(_t=n[Gt])||void 0===_t?void 0:_t[xt];if((rt===f&&v===i||v===Gt&&xt===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var pt=0;pt<c.length;pt++){var St=c[pt],Ut=St.x,Yt=St.y;if(rt===Yt&&Ut===i||Ut===Gt&&Yt===xt)return this.state=u.BLOCKLEFT,!0}if(L.some((function(t){return t.x===i&&t.y===rt}))&&(!Pt||Pt.turnable))return!1;if(!Dt||!Dt.moveable||Pt&&!Pt.turnable)return this.state=u.BLOCKRIGHT,!0}}else if(t===T.LEFT){var kt=i-1;if(r===h.TOP){var Wt,wt;if(kt<0)return this.state=u.BLOCKLEFT,!0;var Xt=i-1,Vt=e-1,jt=null===(Wt=n[kt])||void 0===Wt?void 0:Wt[e],zt=null===(wt=n[Xt])||void 0===wt?void 0:wt[Vt];if((e===f&&v===kt||v===Xt&&Vt===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var Qt=0;Qt<c.length;Qt++){var qt=c[Qt],Jt=qt.x,Zt=qt.y;if(e===Zt&&Jt===kt||Jt===Xt&&Zt===Vt)return this.state=u.BLOCKLEFT,!0}if(L.some((function(t){return t.x===kt&&t.y===e}))&&(!zt||zt.turnable))return!1;if(!jt||!jt.moveable||zt&&!zt.turnable)return this.state=u.BLOCKLEFT,!0}else if(r===h.BOTTOM){var $t,ti;if(kt<0)return this.state=u.BLOCKRIGHT,!0;var ii=i-1,ei=e+1,ri=null===($t=n[kt])||void 0===$t?void 0:$t[e],ni=null===(ti=n[ii])||void 0===ti?void 0:ti[ei];if((e===f&&v===kt||v===ii&&ei===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var si=0;si<c.length;si++){var ai=c[si],oi=ai.x,ui=ai.y;if(e===ui&&oi===kt||oi===ii&&ui===ei)return this.state=u.BLOCKLEFT,!0}if(L.some((function(t){return t.x===kt&&t.y===e}))&&(!ni||ni.turnable))return!1;if(!ri||!ri.moveable||ni&&!ni.turnable)return this.state=u.BLOCKRIGHT,!0}else if(r===h.LEFT){var Ti,li;if(kt<0)return this.state=u.BLOCKFRONT,!0;var hi=i-2,vi=null===(Ti=n[kt])||void 0===Ti?void 0:Ti[e],fi=null===(li=n[hi])||void 0===li?void 0:li[e];if((e===f&&v===kt||v===hi&&e===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var Oi=0;Oi<c.length;Oi++){var di=c[Oi],Li=di.x,ci=di.y;if(e===ci&&Li===kt||Li===hi&&ci===e)return this.state=u.BLOCKLEFT,!0}if(L.some((function(t){return t.x===kt&&t.y===e}))&&(!fi||fi.turnable))return!1;if(!vi||!vi.moveable||fi&&!fi.turnable)return this.state=u.BLOCKFRONT,!0}else if(r===h.RIGHT){var Ei,Ri;if(kt<0)return this.state=u.BLOCKBACK,!0;var Ki=i,Bi=null===(Ei=n[kt])||void 0===Ei?void 0:Ei[e],Ci=null===(Ri=n[Ki])||void 0===Ri?void 0:Ri[e];if((e===f&&v===kt||v===Ki&&e===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var Hi=0;Hi<c.length;Hi++){var Ii=c[Hi],Ai=Ii.x,mi=Ii.y;if(e===mi&&Ai===kt||Ai===Ki&&mi===e)return this.state=u.BLOCKLEFT,!0}if(L.some((function(t){return t.x===kt&&t.y===e}))&&(!Ci||Ci.turnable))return!1;if(!Bi||!Bi.moveable||Ci&&!Ci.turnable)return this.state=u.BLOCKBACK,!0}}else if(t===T.RIGHT){var Fi=i+1;if(r===h.TOP){var bi,yi;if(Fi>a-1)return this.state=u.BLOCKRIGHT,!0;var gi=i+1,Ni=e-1,Mi=null===(bi=n[Fi])||void 0===bi?void 0:bi[e],_i=null===(yi=n[gi])||void 0===yi?void 0:yi[Ni];if((e===f&&v===Fi||v===gi&&Ni===f)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var Gi=0;Gi<c.length;Gi++){var xi=c[Gi],Di=xi.x,Pi=xi.y;if(e===Pi&&Di===Fi||Di===gi&&Pi===Ni)return this.state=u.BLOCKRIGHT,!0}if(L.some((function(t){return t.x===Fi&&t.y===e}))&&(!_i||_i.turnable))return!1;if(!Mi||!Mi.moveable||_i&&!_i.turnable)return this.state=u.BLOCKRIGHT,!0}else if(r===h.BOTTOM){var pi,Si;if(Fi>a-1)return this.state=u.BLOCKLEFT,!0;var Ui=i+1,Yi=e+1,ki=null===(pi=n[Fi])||void 0===pi?void 0:pi[e],Wi=null===(Si=n[Ui])||void 0===Si?void 0:Si[Yi];if((e===f&&v===Fi||v===Ui&&Yi===f)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var wi=0;wi<c.length;wi++){var Xi=c[wi],Vi=Xi.x,ji=Xi.y;if(e===ji&&Vi===Fi||Vi===Ui&&ji===Yi)return this.state=u.BLOCKRIGHT,!0}if(L.some((function(t){return t.x===Fi&&t.y===e}))&&(!Wi||Wi.turnable))return!1;if(!ki||!ki.moveable||Wi&&!Wi.turnable)return this.state=u.BLOCKBACK,!0}else if(r===h.LEFT){var zi,Qi;if(Fi>a-1)return this.state=u.BLOCKBACK,!0;var qi=i,Ji=null===(zi=n[Fi])||void 0===zi?void 0:zi[e],Zi=null===(Qi=n[qi])||void 0===Qi?void 0:Qi[e];if((e===f&&v===Fi||v===qi&&e===f)&&O!==u.DEATH)return this.state=u.BLOCKLEFT,!0;for(var $i=0;$i<c.length;$i++){var te=c[$i],ie=te.x,ee=te.y;if(e===ee&&ie===Fi||ie===qi&&ee===e)return this.state=u.BLOCKLEFT,!0}if(L.some((function(t){return t.x===Fi&&t.y===e}))&&(!Zi||Zi.turnable))return!1;if(!Ji||!Ji.moveable||Zi&&!Zi.turnable)return this.state=u.BLOCKBACK,!0}else if(r===h.RIGHT){var re,ne;if(Fi>a-1)return this.state=u.BLOCKFRONT,!0;var se=i+2,ae=null===(re=n[Fi])||void 0===re?void 0:re[e],oe=null===(ne=n[se])||void 0===ne?void 0:ne[e];if((e===f&&v===Fi||v===se&&e===f)&&O!==u.DEATH)return this.state=u.BLOCKRIGHT,!0;for(var ue=0;ue<c.length;ue++){var Te=c[ue],le=Te.x,he=Te.y;if(e===he&&le===Fi||le===se&&he===e)return this.state=u.BLOCKRIGHT,!0}if(L.some((function(t){return t.x===Fi&&t.y===e}))&&(!oe||oe.turnable))return!1;if(!ae||!ae.moveable||oe&&!oe.turnable)return this.state=u.BLOCKFRONT,!0}}else if(t===T.TURN_LEFT){var ve,fe,Oe,de,Le,ce,Ee,Re,Ke,Be,Ce;if(r===h.TOP?(Be=i-1,Ce=e-1):r===h.BOTTOM?(Be=i+1,Ce=e+1):r===h.LEFT?(Be=i-1,Ce=e+1):r===h.RIGHT&&(Be=i+1,Ce=e-1),(null===(ve=n[i])||void 0===ve?void 0:ve[Ce])&&!(null===(fe=n[i])||void 0===fe||null===(Oe=fe[Ce])||void 0===Oe?void 0:Oe.turnable)||(null===(de=n[Be])||void 0===de?void 0:de[e])&&!(null===(Le=n[Be])||void 0===Le||null===(ce=Le[e])||void 0===ce?void 0:ce.turnable)||(null===(Ee=n[Be])||void 0===Ee?void 0:Ee[Ce])&&!(null===(Re=n[Be])||void 0===Re||null===(Ke=Re[Ce])||void 0===Ke?void 0:Ke.turnable))return this.state=u.BLOCKTURNLEFT,!0;if(v===i&&f===Ce||v===Be&&f===e||v===Be&&Ce===f&&O!==u.DEATH)return this.state=u.BLOCKTURNLEFT,!0;for(var He=0;He<c.length;He++){var Ie=c[He],Ae=Ie.x,me=Ie.y;if(i===Ae&&me===Ce)return this.state=u.BLOCKTURNLEFT,!0;if(Be===Ae&&me===e)return this.state=u.BLOCKTURNLEFT,!0;if(Be===Ae&&me===Ce)return this.state=u.BLOCKTURNLEFT,!0}}else if(t===T.TURN_RIGHT){var Fe,be,ye,ge,Ne,Me,_e,Ge,xe,De,Pe;if(r===h.TOP?(De=i+1,Pe=e-1):r===h.BOTTOM?(De=i-1,Pe=e+1):r===h.LEFT?(De=i-1,Pe=e-1):r===h.RIGHT&&(De=i+1,Pe=e+1),v===i&&f===Pe||v===De&&f===e||v===De&&Pe===f&&O!==u.DEATH)return this.state=u.BLOCKTURNRIGHT,!0;for(var pe=0;pe<c.length;pe++){var Se=c[pe],Ue=Se.x,Ye=Se.y;if(i===Ue&&Ye===Pe)return this.state=u.BLOCKTURNRIGHT,!0;if(De===Ue&&Ye===e)return this.state=u.BLOCKTURNRIGHT,!0;if(De===Ue&&Ye===Pe)return this.state=u.BLOCKTURNRIGHT,!0}if((null===(Fe=n[i])||void 0===Fe?void 0:Fe[Pe])&&!(null===(be=n[i])||void 0===be||null===(ye=be[Pe])||void 0===ye?void 0:ye.turnable)||(null===(ge=n[De])||void 0===ge?void 0:ge[e])&&!(null===(Ne=n[De])||void 0===Ne||null===(Me=Ne[e])||void 0===Me?void 0:Me.turnable)||(null===(_e=n[De])||void 0===_e?void 0:_e[Pe])&&!(null===(Ge=n[De])||void 0===Ge||null===(xe=Ge[Pe])||void 0===xe?void 0:xe.turnable))return this.state=u.BLOCKTURNRIGHT,!0}},e.showsmoke=function(t){v.Instance.emit(o.SMOKE_SHOW,t,this.x,this.y)},e.willAttack=function(t){for(var i=d.Instance.enemes.filter((function(t){return t.state!==u.DEATH})),e=0;e<i.length;e++){var r=i[e],n=r.x,s=r.y,a=r.id;if(t===T.TOP&&this.direction===h.TOP&&this.x===n&&this.targetY-2===s)return this.state=u.ATTACK,a;if(t===T.BOTTOM&&this.direction===h.BOTTOM&&this.x===n&&this.targetY+2===s)return this.state=u.ATTACK,a;if(t===T.LEFT&&this.direction===h.LEFT&&this.x-2===n&&this.targetY===s)return this.state=u.ATTACK,a;if(t===T.RIGHT&&this.direction===h.RIGHT&&this.x+2===n&&this.targetY===s)return this.state=u.ATTACK,a;this.state=u.IDLE}return""},i}(f))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/StartManager.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./FaderManager.ts"],(function(n){"use strict";var t,e,r,a,o,c,i,s,u;return{setters:[function(n){t=n.cclegacy,e=n._decorator,r=n.director,a=n.Node,o=n.Component},function(n){c=n.inheritsLoose,i=n.asyncToGenerator},function(n){s=n.SCENE_ENUM},function(n){u=n.default}],execute:function(){var d;t._RF.push({},"f5b8bH3Y5tCSZVWFFOCRd3V","StartManager",void 0);var f=e.ccclass;e.property,n("StartManager",f("StartManager")(d=function(n){function t(){return n.apply(this,arguments)||this}c(t,n);var e=t.prototype;return e.onLoad=function(){r.preloadScene(s.scene)},e.start=function(){u.Instance.fadeOut(1e3),this.node.once(a.EventType.TOUCH_END,this.handler,this)},e.handler=function(){var n=i((function*(){yield u.Instance.fadeIn(300),r.loadScene(s.scene)}));return function(){return n.apply(this,arguments)}}(),t}(o))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/AttackDeathSubStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(t){"use strict";var e,n,a,i,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.inheritsLoose},function(t){a=t.DRIECTION_ENUM},function(t){i=t.IdleTurnStateMachie},function(t){c=t.State}],execute:function(){e._RF.push({},"f79f1TAtitDuJM6SJhplKEY","AttackDeathSubStateMachine",void 0);var s="texture/player/death";t("default",function(t){function e(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,s+"/top")),n.stateMachine.set(a.BOTTOM,new c(e,s+"/bottom")),n.stateMachine.set(a.LEFT,new c(e,s+"/left")),n.stateMachine.set(a.RIGHT,new c(e,s+"/right")),n}return n(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/SubStateMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,r,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.createClass,c=t.defineProperty}],execute:function(){var u;e._RF.push({},"fb7335ufP5AeqfdFfoS+CZ7","SubStateMachine",void 0);var a=n.ccclass;n.property,t("default",a("SubStateMachine")(u=function(){function t(t){c(this,"_currentState",null),c(this,"stateMachine",new Map),this.fsm=t}return r(t,[{key:"currentState",get:function(){return this._currentState},set:function(t){t&&(this._currentState=t,this._currentState.run())}}]),t}())||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/IronskeletonManagerSubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./EnityManger.ts","./StateMachine.ts","./IronskeletonDeathsubMachine.ts","./IronskeletonIdlesubMachine.ts"],(function(t){"use strict";var e,n,i,a,s,r,o,c,h,u,M,l,p;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Animation},function(t){a=t.inheritsLoose,s=t.asyncToGenerator},function(t){r=t.ENTINY_STATE_ENUM,o=t.PARAMS_NAME_ENUM},function(t){c=t.EnityManger},function(t){h=t.GetParamsTrigger,u=t.GetParamsNUmber,M=t.StateMachine},function(t){l=t.default},function(t){p=t.default}],execute:function(){var f;e._RF.push({},"fc102FZ2i9OmbpdMg4xGKmT","IronskeletonManagerSubMachine",void 0);var m=n.ccclass;n.property,t("IronskeletonManagerSubMachine",m("IronskeletonManagerSubMachine")(f=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.init=function(){var t=s((function*(){this.animationComponent=this.node.addComponent(i),this.initParams(),this.initStateMachine(),this.initEventMachine(),yield Promise.all(this.waitingList)}));return function(){return t.apply(this,arguments)}}(),n.initEventMachine=function(){var t=this;this.animationComponent.on(i.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(c).state=r.IDLE)}))},n.initParams=function(){this.param.set(o.IDLE,h()),this.param.set(o.DRIECTION,u()),this.param.set(o.DEATH,h())},n.initStateMachine=function(){this.stateMachine.set(o.IDLE,new p(this)),this.stateMachine.set(o.DEATH,new l(this))},n.run=function(){switch(this.currentState){case this.stateMachine.get(o.DEATH):case this.stateMachine.get(o.IDLE):this.param.get(o.IDLE).value?this.currentState=this.stateMachine.get(o.IDLE):this.param.get(o.DEATH).value?this.currentState=this.stateMachine.get(o.DEATH):this.currentState=this.currentState;break;default:this.currentState=this.stateMachine.get(o.IDLE)}},e}(M))||f);e._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.cclegacy},function(n){e=n.defineProperty}],execute:function(){t._RF.push({},"fcda2hkT05Ojppcj3XyoX+x","Singleton",void 0);var i=n("default",function(){function n(){}return n.GetInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},n}());e(i,"_instance",null),t._RF.pop()}}}));

System.register("chunks:///_virtual/IronskeletonIdlesubMachine.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./index3.ts","./IdleTurnStateMachie.ts","./State.ts"],(function(e){"use strict";var t,n,s,i,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.inheritsLoose},function(e){s=e.DRIECTION_ENUM},function(e){i=e.IdleTurnStateMachie},function(e){c=e.State}],execute:function(){t._RF.push({},"ff8fcIM645Dn69uhQsJYypQ","IronskeletonIdlesubMachine",void 0);var u="texture/ironskeleton/idle";e("default",function(e){function t(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.TOP,new c(t,u+"/top")),n.stateMachine.set(s.BOTTOM,new c(t,u+"/bottom")),n.stateMachine.set(s.LEFT,new c(t,u+"/left")),n.stateMachine.set(s.RIGHT,new c(t,u+"/right")),n}return n(t,e),t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/start-scene",["./index.ts","./index3.ts","./Singleton.ts","./EventManager.ts","./EnityManger.ts","./StateMachine.ts","./SubStateMachine.ts","./IdleTurnStateMachie.ts","./AirDeathSubStateMachine.ts","./AttackDeathSubStateMachine.ts","./AttackSubStateMachine.ts","./BlockblackStateMachine.ts","./BlockfrontStateMachine.ts","./BlockturnleftStateMachine.ts","./BlockturnrightStateMachine.ts","./IdleLeftStateMachine.ts","./TurnRightStateMachine.ts","./PlayerStateMachine.ts","./DataManager.ts","./AudioManager.ts","./MusicManager.ts","./PlayerManager.ts","./ResourcesManager.ts","./State.ts","./TurnLeftStateMachine.ts","./SpikesSubMachine.ts","./SpikesFourSubMachine.ts","./SpikesOneSubMachine.ts","./SpikesThreeSubMachine.ts","./SpikesTwoSubMachine.ts","./SpikesMachine.ts","./SpikesManager.ts","./SmokeIdleStateMachines.ts","./SmokeDeathStateMachines.ts","./SmokeMachine.ts","./EnemyManager.ts","./AttackSubStateMachines.ts","./DeathSubStateMachines.ts","./IdleSubStateMachines.ts","./WoodenSkeletonSubMachine.ts","./WoodenSkeletonManager.ts","./level14.ts","./TileManager.ts","./level10.ts","./DoorIdleSubStateMachines.ts","./SmokeManager.ts","./UIController.ts","./DoorDeathSubStateMachines.ts","./level3.ts","./level17.ts","./level1.ts","./level2.ts","./level4.ts","./level5.ts","./level6.ts","./level7.ts","./level8.ts","./level9.ts","./level11.ts","./level12.ts","./level13.ts","./level15.ts","./level16.ts","./level18.ts","./level19.ts","./level20.ts","./level21.ts","./index2.ts","./ShakeManager.ts","./DoorSubMachine.ts","./DoorManager.ts","./IronskeletonDeathsubMachine.ts","./IronskeletonIdlesubMachine.ts","./IronskeletonManagerSubMachine.ts","./IronskeletonManager.ts","./BurstMachine.ts","./BurstManager.ts","./LoadingManager.ts","./TlieMapManager.ts","./DrawManager.ts","./FaderManager.ts","./BattleManager.ts","./MenuManager.ts","./StartManager.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/start-scene', 'chunks:///_virtual/start-scene'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});